<?xml version="1.0" encoding="utf-8"?>
<npcAi>
	<reserved>
		<condition name="hpLess" value="100">
			<!-- 각종 변수 초기화 설정 -->
			<node name="SetValue" isKeepBattle="true" key="Phase" value="1">
				<!--  1페이즈 체크하기 위한  변수  -->
				<node name="SetValue" key="SummonMany" value="0" />
				<node name="SetValue" key="1PhaseSummonMode" value="1" />
				<!--  1페이즈  때 소환몹 졸구간 두번에 걸쳐서 진행하는데, 그 두번 체크하기 위한 변수임  -->
				<node name="SetValue" key="2PhaseStartCheckOn" value="0" />
				<!--  2페이즈  최초 시작때 플레이어가 2페이즈 전투판으로 들어서기 전에는 이 변수가 0이 되어 가만히 서있다가 들어서면 99가 되면서 이후 발록이 이동하도록 설정함  -->
				<!--1페이즈 전투판 졸몹 호출하기 -->
				<node name="summon" npcId="1" npcCount="1" npcCountMax="1" group="101" summonPos="-2070, -3480, 2270" summonRot="0,0,315" />
				<!-- 4시  발록 졸병-->
				<node name="summon" npcId="1" npcCount="1" npcCountMax="1" group="102" summonPos="-1315, -2750, 2270" summonRot="0,0,315" />
				<!-- 2시  발록 졸병-->
				<node name="summon" npcId="1" npcCount="1" npcCountMax="1" group="103" summonPos="-1650, -1800, 2270" summonRot="0,0,315" />
				<!-- 12시  발록 졸병-->
				<node name="summon" npcId="1" npcCount="1" npcCountMax="1" group="104" summonPos="-2600, -1500, 2270" summonRot="0,0,315" />
				<!-- 10시 발록 졸병 -->
				<node name="summon" npcId="1" npcCount="1" npcCountMax="1" group="105" summonPos="-3345, -2215, 2270" summonRot="0,0,315" />
				<!-- 8시  발록 졸병-->
				<node name="summon" npcId="2" npcCount="1" npcCountMax="1" group="201" summonPos="-2400, -2100, 2270" summonRot="0,0,315" />
				<!--크림슨 발록-->
				<node name="summon" npcId="2" npcCount="1" npcCountMax="1" group="202" summonPos="-2100, -2850, 2270" summonRot="0,0,315" />
				<!--크림슨 발록-->
				<!--2페이즈 전투판의 캐논  경호원 우호적 NPC 호출하기-->
				<node name="summon" npcId="3" npcCount="1" npcCountMax="1" group="801" summonPos="-450, 1950, 3160" summonRot="0,0,0" master="None" />
				<!-- 8시 , ##경호원 SCV, 발록이 죽어서 우호적 NPC는 계속 있어야 하기 때문에 master="None" 설정함 -->
				<node name="summon" npcId="4" npcCount="1" npcCountMax="1" group="802" summonPos="-450, 900, 3010" summonRot="0,0,0" master="None" />
				<!-- 7시 , ##경호원 SCV-->
				<node name="summon" npcId="5" npcCount="1" npcCountMax="1" group="803" summonPos="1050, -600, 3010" summonRot="0,0,0" master="None" />
				<!-- 5시 , ##경호원 SCV-->
				<node name="summon" npcId="6" npcCount="1" npcCountMax="1" group="804" summonPos="2100, -600, 3160" summonRot="0,0,0" master="None" />
				<!-- 4시 , ##경호원 SCV-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="811" summonPos="-1500, 2250, 3160" summonRot="0,0,0" master="None" />
				<!-- 8시쪽 통로 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="812" summonPos="-1650, 1800, 3160" summonRot="0,0,0" master="None" />
				<!-- 8시쪽 통로 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="813" summonPos="1950, -1650, 3160" summonRot="0,0,0" master="None" />
				<!-- 4시쪽 통로 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="814" summonPos="2400, -1650, 3160" summonRot="0,0,0" master="None" />
				<!-- 4시쪽 통로 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="815" summonPos="-450, 150, 3160" summonRot="0,0,0" master="None" />
				<!-- 중앙입구쪽 왼쪽 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="816" summonPos="165, -580, 3160" summonRot="0,0,0" master="None" />
				<!-- 중앙입구쪽 오른쪽 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="817" summonPos="150, 3000, 3160" summonRot="0,0,0" master="None" />
				<!-- 9시쪽 성벽 문 , 게오르크 저항군 병사 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="818" summonPos="3150, 0, 3160" summonRot="0,0,0" master="None" />
				<!-- 3시쪽 성벽 문 , 게오르크 저항군 병사 -->
				<!--2페이즈 전투판, 적대적 몬스터 발록 졸병 무리-->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="301" summonPos="-600, 2250, 3160" summonRot="0,0,0" />
				<!-- 8시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="302" summonPos="-900, 1950, 3160" summonRot="0,0,0" />
				<!-- 8시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="303" summonPos="-300, 1050, 3010" summonRot="0,0,0" />
				<!-- 7시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="304" summonPos="-600, 1200, 3010" summonRot="0,0,0" />
				<!-- 7시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="305" summonPos="1350, -600, 3010" summonRot="0,0,0" />
				<!-- 5시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="306" summonPos="750, -600, 3010" summonRot="0,0,0" />
				<!-- 5시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="307" summonPos="2550, -600, 3160" summonRot="0,0,0" />
				<!-- 4시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="308" summonPos="1950, -1050, 3160" summonRot="0,0,0" />
				<!-- 4시 , ##경호원을 방해하는 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="311" summonPos="-1950, 2250, 3160" summonRot="0,0,0" />
				<!-- 8시 , 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="312" summonPos="-2100, 1800, 3160" summonRot="0,0,0" />
				<!-- 8시 , 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="313" summonPos="1950, -2250, 3160" summonRot="0,0,0" />
				<!-- 4시 , 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="314" summonPos="2400, -2100, 3160" summonRot="0,0,0" />
				<!-- 4시 , 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="315" summonPos="-150, -450, 3160" summonRot="0,0,0" />
				<!-- 6시 , 졸병 발록 -->
				<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="316" summonPos="-300, 2850, 3160" summonRot="0,0,0" />
				<!-- 9시 , 졸병 발록 -->
				<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="401" summonPos="-150, 2150, 2925" summonRot="0,0,0" />
				<!-- 8시 , ##경호원을 방해하는 크림슨발록 -->
				<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="402" summonPos="0, 900, 2860" summonRot="0,0,0" />
				<!-- 7시 , ##경호원을 방해하는 크림슨발록 -->
				<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="404" summonPos="1050, -150, 2860" summonRot="0,0,0" />
				<!-- 5시 , ##경호원을 방해하는 크림슨발록 -->
				<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="405" summonPos="2250, -300, 2925" summonRot="0,0,0" />
				<!-- 4시 , ##경호원을 방해하는 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="411" summonPos="-2475, 1575, 3025" summonRot="0,0,0" />
				<!-- 8시 아래쪽, 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="412" summonPos="-2025, 2550, 3025" summonRot="0,0,0" />
				<!-- 8시 위쪽, 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="413" summonPos="1725, -2625, 3025" summonRot="0,0,0" />
				<!-- 4시 아래쪽, 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="414" summonPos="2700, -2175, 3025" summonRot="0,0,0" />
				<!-- 4시 위쪽, 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="415" summonPos="-1000, 75, 2975" summonRot="0,0,0" />
				<!-- 6시 오른쪽, 크림슨발록 -->
				<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="416" summonPos="3300, -450, 3045" summonRot="0,0,0" />
				<!-- 3시 , 크림슨발록 -->
				<!--4 페이즈 전투판의 캐논  경호원 우호적 NPC 호출하기-->
				<node name="summon" npcId="12" npcCount="1" npcCountMax="1" group="821" summonPos="5250, 4050, 5710" summonRot="0,0,0" master="None" />
				<!-- 4페이지 , ##경호원 성궁병 SCV-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="822" summonPos="4050, 4350, 4960" summonRot="0,0,0" master="None" />
				<!-- 4페이지 아래 가운데 왼쪽 , 게오르크 저항군 병사-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="823" summonPos="4500, 3850, 4960" summonRot="0,0,0" master="None" />
				<!-- 4페이지 아래 가운데 오른쪽, 게오르크 저항군 병사-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="824" summonPos="3750, 5250, 4960" summonRot="0,0,0" master="None" />
				<!-- 4페이지 아래 왼쪽끝 , 게오르크 저항군 병사-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="825" summonPos="5550, 3750, 4960" summonRot="0,0,0" master="None" />
				<!-- 4페이지 아래 오른쪽끝, 게오르크 저항군 병사-->
				<!--4페이즈 전투판, 적대적 몬스터 발록 졸병 무리-->
				<node name="summon" npcId="13" npcCount="1" npcCountMax="1" group="421" summonPos="5925, 4200, 5560" summonRot="0,0,0" />
				<!-- 4페이즈 2시 , ##크림슨발록 -->
				<node name="summon" npcId="13" npcCount="1" npcCountMax="1" group="422" summonPos="4800, 3680, 5560" summonRot="0,0,0" />
				<!-- 4페이즈 5시 , ##크림슨발록 -->
				<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="423" summonPos="3900, 4650, 4960" summonRot="0,0,0" />
				<!-- 4페이지 아래 가운데 왼쪽 , 졸병 발록 -->
				<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="424" summonPos="4800, 3750, 4960" summonRot="0,0,0" />
				<!-- 4페이지 아래 가운데 오른쪽 , 졸병 발록 -->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="425" summonPos="3750, 5780, 4810" summonRot="0,0,0" />
				<!-- 4페이즈 왼쪽 끝 , 크림슨발록 -->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="426" summonPos="5450, 3350, 4740" summonRot="0,0,0" />
				<!-- 4페이즈 오른쪽 끝 , 크림슨발록 -->
				<!--4페이즈 전투판의 기타 엑스트라용 우호적 적대적 NPC 무리 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="980" summonPos="3600, 3900, 4210" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 더 아래 왼쪽, 게오르크 저항군 병사-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="981" summonPos="3410, 4700, 4210" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 더 아래 왼쪽 끝, 게오르크 저항군 병사-->
				<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="982" summonPos="3655, 4275, 4210" summonRot="0,0,0" />
				<!-- 4페이즈 더 아래 왼쪽 , 졸병 발록 -->
				<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="983" summonPos="3370, 4235, 4210" summonRot="0,0,0" />
				<!-- 4페이즈 더 아래 왼쪽 , 졸병 발록 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="984" summonPos="4050, 3500, 4210" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 더 아래 오른쪽, 게오르크 저항군 병사-->
				<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="985" summonPos="4490, 3430, 4210" summonRot="0,0,0" />
				<!-- 4페이즈 더 아래 왼쪽 , 졸병 발록 -->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="986" summonPos="1650, 5115, 4060" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 왼쪽 성벽, 게오르크 저항군 병사-->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="987" summonPos="1040, 5220, 4060" summonRot="0,0,0" />
				<!-- 4페이즈 왼쪽 성벽, 크림슨 발록-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="988" summonPos="5250, 1650, 4060" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 오른쪽 성벽, 게오르크 저항군 병사-->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="989" summonPos="5830, 2100, 4020" summonRot="0,0,0" />
				<!-- 4페이즈 오른쪽 성벽 외부, 크림슨 발록-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="990" summonPos="150, 4500, 3610" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 왼쪽 중간부 성벽, 게오르크 저항군 병사-->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="991" summonPos="750, 4200, 3460" summonRot="0,0,0" />
				<!-- 4페이즈 왼쪽 중간부 성벽, 크림슨 발록-->
				<node name="summon" npcId="7" npcCount="1" npcCountMax="1" group="992" summonPos="3700, 100, 3610" summonRot="0,0,0" master="None" />
				<!-- 4페이즈 오른쪽 중간부 성벽, 게오르크 저항군 병사-->
				<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="993" summonPos="4230, 623, 3460" summonRot="0,0,0" />
				<!-- 4페이즈 오른쪽 중간부 성벽, 크림슨 발록-->
				<node name="standby" limit="4500" faceTarget="0" />
				<node name="skill" facePos="-1375, -1525, 2450" idx="19" />
				<!--전투판 중앙쪽으로 점프 뛰기 -->
				<node name="jump" pos="-1375, -1525, 2450" speed="1800" heightMultiplier="1.3" />
				<!--점프중    -1350, -1500, 2450-->
				<node name="skill" faceTarget="0" idx="21" />
				<!--점프 착지, 레벨3: 바닥 큐브 파괴 용 -->
				<node name="standby" limit="4000" faceTarget="1" />
			</node>
		</condition>
		<condition name="hpLess" value="90">
			<!-- $%$ : 1페이지 졸몹이 아직 있는 상태에서 발록 HP가 10% 이상 어뷰징으로 깍이면, 예상치 못한 이상한 플레이가 될 수 있어서, HP 10% 깍이면 무조건 이 설정 넣기 -->
			<node name="SetValue" key="SummonMany" value="-999" />
		</condition>
		<condition name="hpLess" value="75">
			<node name="SetValue" isKeepBattle="true" key="Phase" value="2">
				<!--  2페이즈 체크하기 위한  변수  -->
				<node name="SetSlaveValue" key="SummonDeath" value="1" />
				<!--1페이지 졸몹에게 이 신호를 보내 자살하도록 함-->
				<node name="TriggerSetUserValue" triggerID="101" key="StairsOk" value="1" />
				<!--   StairsOk = 1 신호에 의해서 이벤트 연출 트리거 작동	 즉 bossSpawn.xml 에서 받음      param1="101" 은   MS2TriggerModel의 TriggerModelID 번호임-->
			</node>
		</condition>
		<condition name="hpLess" value="55">
			<node name="SetValue" key="Phase" value="3" />
			<!--  3페이즈 체크하기 위한  변수  -->
		</condition>
		<condition name="hpLess" value="32">
			<node name="SetValue" isKeepBattle="true" key="Phase" value="4">
				<!--  4페이즈 체크하기 위한  변수  -->
				<node name="TargetEffect" effectName="" />
				<!--4페이즈 부터는 2 3페이즈에서 사용했던 타겟팅 이펙트 사용 안한다는 설정을 함-->
				<node name="TriggerSetUserValue" triggerID="101" key="StairsOk2nd" value="1" />
				<!--   StairsOk2nd = 1 신호에 의해서 이벤트 연출 트리거 작동	 즉 bossSpawn.xml 에서 받음      param1="101" 은   MS2TriggerModel의 TriggerModelID 번호임-->
				<node name="TriggerSetUserValue" triggerID="102" key="StairsOk2nd" value="1" />
				<!--   StairsOk2nd = 1 신호에 의해서 이벤트 연출 트리거 작동	 즉 Message.xml 에서 받음      param1="102" 는   MS2TriggerModel의 TriggerModelID 번호임-->
				<node name="SetValue" key="BuffModeOk" value="0" />
				<!--  !!중요 변수!!: 4페이지에서 버프 사용 유무를 경정하는 변수로, 이 변수가 8~10 정도 이상이 되면 버프 사용하도록 함, 대포 맞아 버프 벗겨지면 몇번 공격 행동 후 버프 사용하게 하기 위한 설정임  -->
				<node name="SetSlaveValue" key="SummonDeath_2Phase" value="1" />
				<!--2, 3페이지 졸몹에게 이 신호를 보내 자살하도록 함-->
				<node name="SetValueRangeTarget" key="2PhaseBattleEnd" value="1" radius="12500" height="3500" />
				<!--2, 3페이지 전투판에 있는 우호적 NPC에게 신호 보내서 2, 3페이즈 전투는 끝났음을 알림-->
			</node>
		</condition>
	</reserved>
	<!--전투-->
	<battle>
		<!-- 2 3페이지 레이저 입자포에 맞으면  50001117  3초짜리 걸리는데, 그때 AI에서 체크하여 현재 맞은 입자포 견제 유무 행동을 하는 부분 -->
		<node name="conditions">
			<condition name="additional" id="50001116">
				<node name="buff" type="add" id="50001117" level="1">
					<node name="select" prob="75,24,1">
						<!-- 제일 먼저 50001116 면역 캔슬 하는 이 50001117 애디셔널을 부여함, 이거 안하면 레이저 맞는 동안 이 부분만 계속 실행할 것임  -->
						<node name="standby" limit="200" faceTarget="1" cooltime="14500">
							<!-- 현재 맞고 있는 레이저 입자포 견제 행동하기, 여기 쿨타임이 2 3 페이즈의 난이도를 결정하는 핵심 숫자임 -->
							<aiPreset name="CannonDamage_Check" />
						</node>
						<!--50001117 애디셔널 걸리는 시간이 6초 정도 되기 때문에 입자포 파괴 행동 하지 않고 아래 standby 실행할 경우, 이 6초 정도 시간이 지나면 파괴행동 유무를 다시 체크할 것임 -->
						<node name="standby" limit="200" faceTarget="1" cooltime="132000" />
						<!--견제 행동 안하기 -->
						<node name="standby" limit="200" faceTarget="1" />
						<!-- 견제 행동안하기 -->
					</node>
				</node>
			</condition>
			<condition name="extraData" key="Phase" value="1">
				<!--#1페이즈  -->
				<node name="conditions">
					<condition name="extraData" key="SummonMany" value="1" op="greaterEqual">
						<node name="conditions">
							<condition name="extraData" key="1PhaseSummonMode" value="1">
								<!-- 1페이즈 첫번째 단계의 졸몹 남아있을 경우  -->
								<node name="conditions">
									<condition name="skillRange" skillIdx="3">
										<node name="select" prob="30,70">
											<!-- 사정거리 750 이상임  , 발록이 서있는 단상 가까이 붙어 있으면 갈로기 휘두르기 공격을 함-->
											<!--갈고리 2연타-->
											<node name="skill" cooltime="9000" idx="3" />
											<node name="standby" limit="800" faceTarget="1">
												<node name="target" type="near" center="-2250, -2400, 2300" />
												<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
											</node>
										</node>
									</condition>
									<condition name="skillRange" skillIdx="15">
										<node name="select" prob="50,50">
											<!-- 레벨2: 사정거리 2000 이상임  -->
											<node name="skill" cooltime="11000" idx="15" />
											<!-- 입에서 발사 공격, 레벨2: 사정거리 2000 이상임  -->
											<node name="standby" limit="300" faceTarget="1">
												<node name="target" type="near" center="-2250, -2400, 2300" />
												<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
											</node>
										</node>
									</condition>
									<condition name="true">
										<node name="standby" limit="800" faceTarget="1">
											<node name="target" type="near" center="-2250, -2400, 2300" />
											<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
										</node>
									</condition>
								</node>
							</condition>
							<condition name="extraData" key="1PhaseSummonMode" value="2">
								<!-- 첫번째 단계 소환몹 무리 다 죽으면, 1페이즈 전투판 중앙으로 와서 두번째 소환몹 무리 호출한 이후 이 부분 실행함, 두번째 소환몹 다 죽일 때까지 이 부분 실행함 -->
								<aiPreset name="1Phase_First" />
								<!--1페이즈 두번째 단계의 졸몹 남아있을 경우의 공격 행동으로, 이 부분에 두번째 단계의 졸몹 빈칸 채워넣기 소환행위를 계속 하도록 되어있음-->
							</condition>
							<condition name="true">
								<!-- 이론적으로 여기 올일 없음 -->
								<node name="standby" limit="500" faceTarget="1" />
							</condition>
						</node>
					</condition>
					<condition name="extraData" key="1PhaseSummonMode" value="1">
						<!--1페이즈  첫번째 소환몹 무리 다 제거하면 여기로 딱 한번 와서,  두번째 소환몹 등장 여기서 처리함 -->
						<!--1페이즈 두번째 단계 소환몹 무리 호출하고 1페이즈 전투판으로 뛰어들기 -->
						<node name="standby" limit="500" faceTarget="1" isKeepBattle="true">
							<node name="SetSlaveValue" key="SummonDeath" value="1" />
							<!--혹시 모르니 1페이지 졸몹 제거하기, 점프 이동 후 기둥충돌 센서 설치하는데 혹시 남아있는 졸몹이 이 센서 밟을 수 있을까봐 확실하게 1페이지 졸몹 자살 신호를 보냄, 위쪽 $%$ 설정과 관련 있음-->
							<node name="skill" facePos="-2250, -2400, 2300" idx="19" />
							<node name="jump" pos="-2250, -2400, 2300" speed="1800" heightMultiplier="1.3" />
							<!--점프중    -1350, -1500, 2450-->
							<node name="skill" faceTarget="0" idx="22" />
							<!--점프 착지, 레벨4: 착지 때 다운시키는 공격 판정 있음 -->
							<!--  이 소환몹 아래 <aiPreset name="1Phase_Second"/> 에서 주기적으로 다시 소환 하도록 하였음 -->
							<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="111" summonPos="-2325, -1500, 2270" summonRot="0,0,315" />
							<!-- 11시  -->
							<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="112" summonPos="-1500, -2475, 2270" summonRot="0,0,315" />
							<!-- 2시  -->
							<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="113" summonPos="-2175, -3600, 2270" summonRot="0,0,315" />
							<!-- 5시  -->
							<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="114" summonPos="-3450, -2325, 2270" summonRot="0,0,315" />
							<!-- 7시  -->
							<node name="SetValue" key="1PhaseSummonMode" value="2" />
							<!-- 중요!: 2로 셋팅하기 -->
							<node name="skill" faceTarget="0" idx="2" />
							<!--기둥충돌 센서 배치하기-->
							<node name="standby" limit="2500" faceTarget="1" />
							<!--소환몹 AI에서 SummonMany + 1 신호 받을 때까지 충분히 standby 대기 상태로 있기 -->
							<!--소환몹 등장으로 인해 SummonMany 변수가 1 이상이 되면 다시 최상의 <if extraKey="SummonMany" greaterEqual="1"> 	단계로 돌아감 -->
						</node>
					</condition>
					<condition name="true">
						<!--1페이즈, 첫번째 단계와 두번째 단계 졸몹 무리 다 제거하면 이부분 본격 전투 행동 하도록 함, 즉  SummonMany 값이 1보다 작고 1PhaseSummonMode = 2 인 겨우임, 위쪽 $%$ 설정과 관련 있음 -->
						<aiPreset name="1Phase_Second" />
						<!--1페이즈, 두번째 단계의 졸몹 까지 모조리 제거했으면 돌진공격 기둥충돌 패턴을 행동을 함-->
					</condition>
				</node>
			</condition>
			<condition name="extraData" key="Phase" value="2">
				<node name="select" prob="999999,9999,9999,9999,25,0">
					<!--#2페이즈 -->
					<node name="standby" limit="500" faceTarget="1" cooltime="9999000" isKeepBattle="true">
						<node name="skill" facePos="1725, 1575, 2900" idx="19" />
						<!--전투판 중앙쪽으로 점프 뛰기 -->
						<node name="jump" pos="1725, 1575, 2900" speed="1800" heightMultiplier="1.3" />
						<!--점프중 , 2페이지  전투판으로 이동하기-->
						<node name="skill" faceTarget="0" idx="20" />
						<!--점프 착지, 레벨2: 착지 때 공격 판정 있음 -->
						<node name="buff" type="add" id="50000292" level="1" />
						<!--50000292 : 공방업 상승, 방어력은 모든 대미지 50% 깎이는 설정임-->
						<node name="buff" type="add" id="50000290" level="1" />
						<!-- 50000290 : 방어력만 상승-->
						<node name="standby" limit="3800" faceTarget="1" />
						<!--발록이 2페이즈 전투판으로 이동하고 바로 입자포 설치 NPC에게 타겟팅이 가지 않도록 어느정도 standby 상태로 머물도록 시간 설정을 적당히 길게 함-->
					</node>
					<node name="target" type="near" center="1650, 1450, 2850" cooltime="8000" />
					<!--2페이지 메인 전투판에 있는 대상을 최우선 타겟팅함-->
					<node name="buff" type="add" id="50000292" level="1" cooltime="5000">
						<!--주기적으로 공방업 버프 반복해서 사용하기, 이 버프는 캐논 레이저포 공격에 의해 제거됨-->
						<node name="buff" type="add" id="50000290" level="1" />
						<!-- 50000292 : 공방업 상승   50000290 : 방어력만 상승-->
					</node>
					<!--2페이즈, 소환몹 호출하기-->
					<node name="standby" limit="180" faceTarget="1" cooltime="17000">
						<aiPreset name="2Phase_SummonCall" />
					</node>
					<!--발록 보스와 함께 싸우는 메인 전투판에 등장하는 졸몹-->
					<node name="standby" limit="200" faceTarget="1" cooltime="51000">
						<node name="select" prob="0,0">
							<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="121" summonPos="1650, 2400, 2860" summonRot="0,0,315">
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
								<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="122" summonPos="450, 2250, 2860" summonRot="0,0,315" />
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
							</node>
							<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="121" summonPos="2500, 1500, 2860" summonRot="0,0,315">
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
								<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="122" summonPos="2400, 300, 2860" summonRot="0,0,315" />
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
							</node>
						</node>
					</node>
					<node name="conditions">
						<condition name="extraData" key="2PhaseStartCheckOn" value="0">
							<node name="conditions">
								<condition name="skillRange" skillIdx="25">
									<!-- 레벨5: 플레이어가 최초로 2페이지 전투판에 들어서면  2PhaseStartCheckOn 변수 99로 셋팅하여 이후 발록이 본격 공격행동 하도록 설정함 -->
									<node name="SetValue" key="2PhaseStartCheckOn" value="99" />
								</condition>
								<condition name="true">
									<!--플레이어가 아직 2페이지 전투판에 들어서지 않았다면 아직 2PhaseStartCheckOn 변수 0이기 때문에 가만히 서있기-->
									<node name="standby" limit="2300" facePos="300, 150, 2860">
										<node name="target" type="near" center="1650, 1500, 2850" />
										<!-- 2 3 페이지 전투판 중앙 기준으로 타겟팅 하기 -->
									</node>
								</condition>
							</node>
						</condition>
						<!--  2PhaseStartCheckOn 변수가 0이 아닌 수가 되면 이후 본격 공격 행동 하기 -->
						<condition name="skillRange" skillIdx="23">
							<node name="select" prob="999999,0">
								<!--거리 1800 이내 같은 높이의 전투판, 캐논 레이저포 설치 우호적 NPC도 시야 범위에 포함되게 설정했음  -->
								<node name="standby" limit="150" faceTarget="1" cooltime="2999999">
									<node name="TargetEffect" effectName="Etc/Eff_Battle_Target_Balrog_Red.xml" />
									<!-- 2페이즈때 최초 타겟팅 이펙트 이 이후부터 나오게 하기-->
								</node>
								<aiPreset name="2Phase_AttackPattern" />
								<!--2 3페이즈 전투 행동 정의, 여기에 타겟팅 renew 기능 있음-->
							</node>
						</condition>
						<condition name="skillRange" skillIdx="24">
							<!-- 큐브 1~2칸 위 우호적 NPC를 도우러 가는 플레이어를 견제하기 위한 범위 ,캐논 레이저포 설치 우호적 NPC의 컬리전 높이는 40인데, 이 범위는 벗어나게 설정했음  -->
							<aiPreset name="2Phase_AttackPatternUp" />
							<!--2 3페이즈 큐브 1~2칸 위의 플레이어 견제 행동 -->
						</condition>
						<condition name="true">
							<node name="select" prob="99,1">
								<node name="move" destination="1725, 1575, 2900" limit="3500" cooltime="5000">
									<!--2페이지 전투판 초기화 지점으로 돌아가기-->
									<node name="target" type="near" center="1650, 1500, 2850" />
									<!-- 2 3 페이지 전투판 중앙 기준으로 타겟팅 하기 -->
								</node>
								<node name="standby" limit="2100" facePos="300, 150, 2860">
									<!--근처에 공격 대상이 없으면 6시 방향 바라보기-->
									<node name="target" type="near" center="1650, 1500, 2850" />
									<!-- 2 3 페이지 전투판 중앙 기준으로 타겟팅 하기 -->
								</node>
							</node>
						</condition>
					</node>
				</node>
			</condition>
			<condition name="extraData" key="Phase" value="3">
				<node name="select" prob="999999,9999,9999,9999,30,0">
					<!--#3페이즈 -->
					<node name="standby" limit="300" facePos="1725, 1575, 2900" cooltime="9999000" isKeepBattle="true">
						<node name="jump" pos="1050, 900, 2860" speed="1200" heightMultiplier="0.9" />
						<!--점프중 , 2페이지  전투판 레이저포 안맞는 구간으로 점프 이동-->
						<node name="skill" faceTarget="0" idx="20" />
						<!--점프 착지, 레벨2: 착지 때 공격 판정 있음 -->
						<node name="standby" limit="500" facePos="300, 150, 2860" />
						<node name="say" message="$Balrog_CannonBroken03$" durationTick="9000" />
						<node name="skill" facePos="300, 150, 2860" idx="28" />
						<!-- 바위 드랍 공격, 캐논 레이저포 파괴하기, 이 레벨3 스킬에 공방업 버프 50000292 가 포함되어 있음 -->
						<node name="summon" npcId="18" npcCount="1" npcCountMax="1" group="499" summonPos="20, -10, 3021" summonRot="0,0,0" />
						<!-- 크림슨 발록 등장, 캐논포 설치 우호적 NPC를 공격해 기절시키는 공격만 함 -->
						<node name="standby" limit="400" faceTarget="1" />
					</node>
					<node name="target" type="near" center="1650, 1450, 2850" cooltime="8000" />
					<!--3페이지 메인 전투판에 있는 대상을 최우선 타겟팅함-->
					<node name="buff" type="add" id="50000292" level="1" cooltime="2300">
						<!-- 3페이즈에서는 쿨타임 더 잛게 설정함, 레이저포 안맞으면 바로 버프 사용하도록 하기 -->
						<node name="buff" type="add" id="50000290" level="1" />
						<!-- 50000292 : 공방업 상승   50000290 : 방어력만 상승-->
					</node>
					<!--3페이즈, 소환몹 호출하기 더 자주 하도록 설정함-->
					<node name="standby" limit="180" faceTarget="1" cooltime="11000">
						<aiPreset name="2Phase_SummonCall" />
					</node>
					<!--발록 보스와 함께 싸우는 메인 전투판에 등장하는 졸몹-->
					<node name="standby" limit="200" faceTarget="1" cooltime="31000">
						<node name="select" prob="0,0">
							<!-- 3페이즈에서는 쿨타임 더 잛게 설정함 -->
							<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="121" summonPos="1650, 2400, 2860" summonRot="0,0,315">
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
								<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="122" summonPos="450, 2250, 2860" summonRot="0,0,315" />
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
							</node>
							<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="121" summonPos="2500, 1500, 2860" summonRot="0,0,315">
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
								<node name="summon" npcId="17" npcCount="1" npcCountMax="1" group="122" summonPos="2400, 300, 2860" summonRot="0,0,315" />
								<!-- 8시 , 경호원을 방해하는 졸병 발록 -->
							</node>
						</node>
					</node>
					<!--  혹시  2페이지 건너띄고 바로 3페이지로 들어서는 경우를 대비히 이 설정 체크 여기서도 똑같이 다시 함  -->
					<node name="conditions">
						<condition name="extraData" key="2PhaseStartCheckOn" value="0">
							<node name="conditions">
								<condition name="skillRange" skillIdx="25">
									<!-- 레벨5: 플레이어가 최초로 2페이지 전투판에 들어서면  2PhaseStartCheckOn 변수 99로 셋팅하여 이후 발록이 본격 공격행동 하도록 설정함 -->
									<node name="SetValue" key="2PhaseStartCheckOn" value="99" />
								</condition>
								<condition name="true">
									<!--플레이어가 아직 2페이지 전투판에 들어서지 않았다면 아직 2PhaseStartCheckOn 변수 0이기 때문에 가만히 서있기-->
									<node name="standby" limit="2300" facePos="300, 150, 2860">
										<node name="target" type="near" center="1650, 1500, 2850" />
										<!-- 2 3 페이지 전투판 중앙 기준으로 타겟팅 하기 -->
									</node>
								</condition>
							</node>
						</condition>
						<!--  2PhaseStartCheckOn 변수가 0이 아닌 수가 되면 이후 본격 공격 행동 하기 -->
						<condition name="skillRange" skillIdx="23">
							<node name="select" prob="999999,0">
								<!--거리 1800 이내 같은 높이의 전투판, 캐논 레이저포 설치 우호적 NPC도 시야 범위에 포함되게 설정했음  -->
								<node name="standby" limit="150" faceTarget="1" cooltime="2999999">
									<node name="TargetEffect" effectName="Etc/Eff_Battle_Target_Balrog_Red.xml" />
									<!-- 혹시 모르니 3페이즈때도  타겟팅 이펙트 나오게 설정하기-->
								</node>
								<aiPreset name="2Phase_AttackPattern" />
								<!--2 3페이즈 전투 행동 정의, 여기에 타겟팅 renew 기능 있음-->
							</node>
						</condition>
						<condition name="skillRange" skillIdx="24">
							<!-- 큐브 1~2칸 위 우호적 NPC를 도우러 가는 플레이어를 견제하기 위한 범위 ,캐논 레이저포 설치 우호적 NPC의 컬리전 높이는 40인데, 이 범위는 벗어나게 설정했음  -->
							<aiPreset name="2Phase_AttackPatternUp" />
							<!--2 3페이즈 큐브 1~2칸 위의 플레이어 견제 행동 -->
						</condition>
						<condition name="true">
							<node name="select" prob="99,1">
								<node name="move" destination="1725, 1575, 2900" limit="3500" cooltime="5000">
									<!--2페이지 전투판 초기화 지점으로 돌아가기-->
									<node name="target" type="near" center="1650, 1500, 2850" />
								</node>
								<node name="standby" limit="2100" facePos="300, 150, 2860">
									<!--근처에 공격 대상이 없으면 6시 방향 바라보기-->
									<node name="target" type="near" center="1650, 1500, 2850" />
								</node>
							</node>
						</condition>
					</node>
				</node>
			</condition>
			<condition name="true">
				<node name="select" prob="999999,999,999,999,0">
					<!--#4페이즈, 즉 Phase = 4 인 경우 -->
					<node name="standby" limit="500" faceTarget="1" cooltime="9999000" isKeepBattle="true">
						<node name="skill" facePos="5260, 5160, 5600" idx="19" />
						<!--전투판 중앙쪽으로 점프 뛰기 -->
						<node name="jump" pos="6300, 6150, 6830" speed="1800" heightMultiplier="1.0" />
						<!--점프중   3페이지 마지막 전투판으로 가기 전에 공중지점에 잠깐 대기하기-->
						<node name="SetValue" key="BuffModeOk" value="5" />
						<!-- 이 변수 바로 5 이상으로 셋팅하여, 이후 바로 공방업 버프 사용하도록 함  -->
						<node name="standby" limit="3500" faceTarget="0" />
					</node>
					<!-- 공방법 버프 사용 로직 부분 -->
					<node name="standby" limit="100" faceTarget="1" cooltime="12000">
						<node name="conditions">
							<condition name="extraData" isKeepBattle="true" key="BuffModeOk" value="5" op="greaterEqual">
								<!--BuffModeOk 변수가 5 이상이면, 공방법 버프 사용하도록 함-->
								<!--버프가 벗겨진 상황에서 공격 행동을 하면 이 변수가 1씩 더해지는데, 몇번 공격 행동을 한 다음에 공방업 버프를 사용하게 하기 위해 이렇게 설정했음-->
								<!-- !!중요정보:  BossBuffOkCheck 변수는   AI_CannonWeaponLaser_TypeB.xml   AI_GuardSpear_TypeA.xml   AI_Balrog.xml 3곳 AI에서 서로 간접을 부여하면사 사용하는 중요하고 복잡한 변수임 -->
								<node name="SetValueRangeTarget" key="BossBuffOkCheck" value="1" radius="3500" height="1500" />
								<!--공방업 버프 상태가 되면, 캐논 레이저포 설치 NPC에게 신호 보내서 설치 작업 유무 상황이 되도록 함-->
								<node name="buff" type="add" id="50000292" level="1" />
								<!--주기적으로 공방업 버프 반복해서 사용하기, 이 버프는 캐논 레이저포 공격에 의해 제거됨-->
								<node name="buff" type="add" id="50000290" level="1" />
								<!-- 50000292 : 공방업 상승   50000290 : 방어력만 상승-->
								<node name="SetValue" key="BuffModeOk" value="0" />
								<!--  버프 사용했으니 변수 초기화  -->
								<node name="standby" limit="900" faceTarget="1" />
							</condition>
							<condition name="true">
								<!--BuffModeOk 변수가 5 보다 작으면, 아무것도 안함-->
								<node name="standby" limit="200" faceTarget="1" />
							</condition>
						</node>
					</node>
					<!--타겟팅 renew , 전투판 기준으로 타겟팅 함 & 공방법 버프 유무 상태에 따른 각종 기본 로직 설정 작업을 함-->
					<node name="standby" limit="180" faceTarget="1" cooltime="3500">
						<node name="conditions">
							<condition name="additional" id="50000292">
								<!--공방업 버프 상태라면-->
								<node name="SetValue" key="BuffModeOk" value="0">
									<!--  공방업 버프 상태라면 이 변수 주기적으로 0 초기화 셋팅함  -->
									<!-- 발록의 버프 유무에 따라 BossBuffOkCheck 신호를 해당 NPC에게 주기적으로 계속 보내야 상황에 따른 신호 전달 상태가 정확하게 이루어 짐, !중요!: 참고로 캐논포가 발사후 파괴되면 설치NPC가  무조건 BossBuffOkCheck = 0 신호를 받기 때문에 캐논포가 발록 공격에 의한 파괴일 경우 아래 신호에 의해서 설치NPC가 설치 행위를 하도록 하는 것임-->
									<node name="SetValueRangeTarget" key="BossBuffOkCheck" value="1" radius="3500" height="1500">
										<node name="select" prob="20,20,20,20,20">
											<!--!중요!: 공방업 버프 상태가 되면, 캐논 레이저포 설치 NPC에게 신호 보내서 캐논포가 파괴되어 없으면 바로 설치 작업을 하도록 함-->
											<!--타겟팅 renew , 캐논포 배치 지점은 잘 타겟 안하도록 함-->
											<node name="target" type="near" center="4950, 4650, 5710" />
											<node name="target" type="near" center="4650, 4800, 5710" />
											<node name="target" type="near" center="4350, 4500, 5710" />
											<!-- 원거리 우선 타겟-->
											<node name="target" type="near" center="4350, 5100, 5710" />
											<!-- 원거리 우선 타겟-->
											<node name="target" type="near" center="4725, 4575. 5710" />
											<!-- 전투판 정중앙-->
										</node>
									</node>
								</node>
							</condition>
							<condition name="true">
								<!--공방업 버프가 없는 상태라면-->
								<!--  발록의 버프 유무에 따라 BossBuffOkCheck 신호를 해당 NPC에게 주기적으로 계속 보내야 상황에 따른 신호 전달 상태가 정확하게 이루어 짐  -->
								<node name="SetValueRangeTarget" key="BossBuffOkCheck" value="0" radius="3500" height="1500">
									<node name="select" prob="20,20,20,20,20">
										<!--공방업 버프가 없는 상태라면, 이 변수 0을 설치 NPC에게 신호 보내서 캐논포가 파괴되어 없어도 설치 작업 하지 안도록 함, 캐논포가 자의든 타이든 파괴되면 캐논포AI에서 설치 NPC에게 이 변수 0 신호를 보내기 때문에 이 부분 지워도 별 상관 없을 거 같음-->
										<!--타겟팅 renew , 캐논포 배치 지점은 잘 타겟 안하도록 함-->
										<node name="target" type="near" center="4950, 4650, 5710" />
										<node name="target" type="near" center="4650, 4800, 5710" />
										<node name="target" type="near" center="4350, 4500, 5710" />
										<!-- 원거리 우선 타겟-->
										<node name="target" type="near" center="4350, 5100, 5710" />
										<!-- 원거리 우선 타겟-->
										<node name="target" type="near" center="4725, 4575. 5710" />
										<!-- 전투판 정중앙-->
									</node>
								</node>
							</condition>
						</node>
					</node>
					<!--4페이즈, 소환몹 호출하기-->
					<node name="standby" limit="180" faceTarget="1" cooltime="7000">
						<aiPreset name="4Phase_SummonCall" />
					</node>
					<node name="conditions">
						<condition name="extraData" key="3PhaseSetOk" value="1">
							<!--  플레이어가 3페이지 전투판에 들어서면 bossSpawn.xml 트리거가 발록AI에게 3PhaseSetOk=1 신호를 보내서 , 3페이지 전투판으로 점프 내려오도록 함  -->
							<node name="standby" limit="1500" faceTarget="1" isKeepBattle="true">
								<node name="jump" pos="5260, 5160, 5610" speed="1800" heightMultiplier="1.3" />
								<!--점프중, 트리거 박스 위로 착지함 -->
								<node name="skill" faceTarget="0" idx="21" />
								<!--점프 착지, 레벨3: 바닥 큐브 파괴 용, 3페이지 때는 큐브 건물까지 파괴함 -->
								<node name="target" type="near" center="4650, 4950, 5710" />
								<!--마지막 전투판에 점프 내려오면, 캐논포 설치 NPC는 왠만하면 타겟팅 안하도록 설정함 -->
								<node name="standby" limit="1500" faceTarget="1" />
								<node name="SetValue" key="3PhaseSetOk" value="-99" />
								<!--  이 변수 1이 아닌 다른 숫자가 되게 하여 평상시 행동을 하도록 설정함  -->
							</node>
						</condition>
						<condition name="skillRange" skillIdx="4">
							<node name="select" prob="18,14,17,17,17,17">
								<!--레벨2: 845 거리 즉 휘두르기 공격 사정거리 안에 있으면-->
								<!--괴성 지르며 바위 떨구기-->
								<node name="standby" limit="200" faceTarget="0" cooltime="24000">
									<node name="SetValue" key="BuffModeOk" value="2" isModify="1">
										<node name="select" prob="50,50">
											<!--공격 행동 할 때마다 이 변수 2씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
											<node name="skill" idx="26">
												<node name="standby" limit="1500" faceTarget="1" />
											</node>
											<node name="skill" idx="27">
												<node name="standby" limit="1500" faceTarget="1" />
											</node>
										</node>
									</node>
								</node>
								<node name="skill" faceTarget="1" idx="3">
									<!--레벨1: 2연타 휘두르기만 하기, 후딜 무척 잛게-->
									<node name="standby" limit="1150" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<node name="skill" faceTarget="1" cooltime="22000" idx="4">
									<!--레벨2: 2연타 휘두르기후 찍기-->
									<node name="standby" limit="2100" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<node name="skill" faceTarget="1" cooltime="25000" idx="29">
									<!--괴성질러 밀치기-->
									<node name="standby" limit="1900" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<node name="skill" faceTarget="1" cooltime="16000" idx="17">
									<!--횡으로 크게 휘두르기-->
									<node name="standby" limit="2200" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<node name="skill" faceTarget="1" cooltime="22000" idx="14">
									<!--입에서 발사-->
									<node name="standby" limit="1100" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
							</node>
						</condition>
						<condition name="skillRange" skillIdx="14">
							<node name="select" prob="33,33,33,1">
								<node name="skill" faceTarget="1" idx="14">
									<!--입에서 발사-->
									<node name="standby" limit="1200" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<node name="skill" faceTarget="1" cooltime="11500" idx="29">
									<!--괴성질러 밀치기-->
									<node name="standby" limit="1800" faceTarget="1">
										<node name="SetValue" key="BuffModeOk" value="1" isModify="1" />
										<!--공격 행동 할 때마다 이 변수 1씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
									</node>
								</node>
								<!--괴성 지르며 바위 떨구기-->
								<node name="standby" limit="200" faceTarget="0" cooltime="15000">
									<node name="SetValue" key="BuffModeOk" value="2" isModify="1">
										<node name="select" prob="50,50">
											<!--공격 행동 할 때마다 이 변수 2씩 더해서, 일정 이상의 수가 되면 공방업 버프 사용하도록 함-->
											<node name="skill" idx="26">
												<node name="standby" limit="1200" faceTarget="1" />
											</node>
											<node name="skill" idx="27">
												<node name="standby" limit="1300" faceTarget="1" />
											</node>
										</node>
									</node>
								</node>
								<node name="standby" limit="300" faceTarget="1" />
							</node>
						</condition>
						<condition name="true">
							<node name="standby" limit="600" faceTarget="1">
								<node name="select" prob="20,20,20,20,20">
									<node name="target" type="near" center="4950, 4650, 5710" />
									<node name="target" type="near" center="4650, 4800, 5710" />
									<node name="target" type="near" center="4350, 4500, 5710" />
									<!-- 원거리 우선 타겟-->
									<node name="target" type="near" center="4350, 5100, 5710" />
									<!-- 원거리 우선 타겟-->
									<node name="target" type="near" center="4725, 4575. 5710" />
									<!-- 전투판 정중앙-->
								</node>
							</node>
						</condition>
					</node>
				</node>
			</condition>
		</node>
	</battle>
	<battleEnd>
		<node name="HideVibrateAll" isKeepBattle="true">
			<node name="say" message="$Balrog_Kritias_Dead$" durationTick="9000" />
			<node name="SetValueRangeTarget" key="BattleEnd" value="1" radius="12500" height="3500" />
			<!--3페이지 전투판에 있는 우호적 NPC와 소환 졸몹에게 신호 보내서 전투 완전히 끝났음을 알림-->
		</node>
	</battleEnd>
	<aiPresets>
		<aiPreset name="CannonDamage_Check">
			<!--2 3 페이지 전투판 레이저 줄기에 맞아 특정 애디셔널에 걸렸을 때 AI에서 체크하여 입자포 견제하는 행동 부분 정의-->
			<node name="conditions">
				<condition name="additional" id="50001109">
					<node name="select" prob="30,70">
						<!-- 7시의 레이저 입자포에 맞아서 해당 애디셔널에 걸렸을 경우, 이 애디셔널은 단순 AI 체크 용도임-->
						<node name="standby" limit="800" facePos="0, 600, 2860" cooltime="289400" isKeepBattle="true">
							<!--  졸몹이 등장해 레이저줄기를 막아줌-->
							<node name="summon" npcId="19" npcCount="1" npcCountMax="1" group="161" summonPos="450, 600, 2860" summonRot="0,0,315" />
							<node name="buff" type="add" id="50001113" level="1" />
							<!--  50001109 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001109 코드 보다 +4 하기-->
						</node>
						<node name="standby" limit="950" facePos="0, 600, 2860" isKeepBattle="true">
							<!--  발록이 직접 공격해 입자포 파괴함-->
							<node name="say" message="$Balrog_CannonBroken01$" durationTick="9000" />
							<node name="skill" faceTarget="0" idx="16" />
							<!--레벨3: 입에서 투사체 발사하여 캐논 레이저포 파괴하기 -->
							<node name="buff" type="add" id="50001113" level="1" />
							<!--  50001109 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001109 코드 보다 +4 하기-->
							<node name="standby" limit="1400" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="additional" id="50001110">
					<node name="select" prob="30,70">
						<!-- 5시의 레이저 입자포에 맞아서 해당 애디셔널에 걸렸을 경우, 이 애디셔널은 단순 AI 체크 용도임-->
						<node name="standby" limit="800" facePos="750, -150, 2860" cooltime="289400" isKeepBattle="true">
							<!--  졸몹이 등장해 레이저줄기를 막아줌-->
							<node name="summon" npcId="19" npcCount="1" npcCountMax="1" group="162" summonPos="750, 300, 2860" summonRot="0,0,315" />
							<node name="buff" type="add" id="50001114" level="1" />
							<!--  50001110 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001110 코드 보다 +4 하기-->
						</node>
						<node name="standby" limit="950" facePos="750, -150, 2860" isKeepBattle="true">
							<!--  발록이 직접 공격해 입자포 파괴함-->
							<node name="say" message="$Balrog_CannonBroken02$" durationTick="9000" />
							<node name="skill" faceTarget="0" idx="16" />
							<!--레벨3: 입에서 투사체 발사하여 캐논 입자포 파괴하기 -->
							<node name="buff" type="add" id="50001114" level="1" />
							<!--  50001110 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001110 코드 보다 +4 하기-->
							<node name="standby" limit="1400" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="additional" id="50001108">
					<node name="select" prob="40,60">
						<!-- 8시의 레이저 입자포에 맞아서 해당 애디셔널에 걸렸을 경우, 이 애디셔널은 단순 AI 체크 용도임-->
						<node name="standby" limit="800" facePos="0, 1650, 2860" cooltime="289400" isKeepBattle="true">
							<!--  졸몹이 등장해 레이저줄기를 막아줌, 8시 4시는 상대적으로 확률이 더 높음-->
							<node name="summon" npcId="19" npcCount="1" npcCountMax="1" group="163" summonPos="450, 1650, 2860" summonRot="0,0,315" />
							<node name="buff" type="add" id="50001112" level="1" />
							<!--  50001108 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001108 코드 보다 +4 하기-->
						</node>
						<node name="standby" limit="950" facePos="0, 1650, 2860" isKeepBattle="true">
							<!--  발록이 직접 공격해 입자포 파괴함-->
							<node name="say" message="$Balrog_CannonBroken01$" durationTick="9000" />
							<node name="skill" faceTarget="0" idx="16" />
							<!--레벨3: 입에서 투사체 발사하여 캐논 입자포 파괴하기 -->
							<node name="buff" type="add" id="50001112" level="1" />
							<!--  50001108 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001108 코드 보다 +4 하기-->
							<node name="standby" limit="1400" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="additional" id="50001111">
					<node name="select" prob="40,60">
						<!-- 4시의 레이저 입자포에 맞아서 해당 애디셔널에 걸렸을 경우, 이 애디셔널은 단순 AI 체크 용도임-->
						<node name="standby" limit="800" facePos="1800, -150, 2860" cooltime="289400" isKeepBattle="true">
							<!--  졸몹이 등장해 레이저줄기를 막아줌, 8시 4시는 상대적으로 확률이 더 높음-->
							<node name="summon" npcId="19" npcCount="1" npcCountMax="1" group="164" summonPos="1800, 300, 2860" summonRot="0,0,315" />
							<node name="buff" type="add" id="50001115" level="1" />
							<!--  50001111 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001111 코드 보다 +4 하기-->
						</node>
						<node name="standby" limit="950" facePos="1800, -150, 2860" isKeepBattle="true">
							<!--  발록이 직접 공격해 입자포 파괴함-->
							<node name="say" message="$Balrog_CannonBroken02$" durationTick="9000" />
							<node name="skill" faceTarget="0" idx="16" />
							<!--레벨3: 입에서 투사체 발사하여 캐논 입자포 파괴하기 -->
							<node name="buff" type="add" id="50001115" level="1" />
							<!--  50001111 애디셔널 제거하기 위한 애디서널 부여하기, 위 50001111 코드 보다 +4 하기-->
							<node name="standby" limit="1400" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="true">
					<!--레이저 입자포 맞은 상태에서 이 단계로 넘어왔는데  50001112, 50001113, 50001114, 50001115  중 하나 혹은 다수 이 면역 애디셔널 걸린 상태 중이라면 이부분에 올 것임 -->
					<node name="standby" limit="129" faceTarget="1" />
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="1Phase_First">
			<node name="select" prob="99999,40,0">
				<!--1페이즈, 두번째 단계 졸몹 무리가 남아 있을 경우-->
				<!-- 두번째 소환몹 1마리만 계속 방치하면,  어뷰징 될 수 있기 때문에 시간마다 두번째 소환몹 무리 주기적으로 빈칸 채워넣기 함-->
				<node name="standby" limit="120" faceTarget="1" cooltime="32000">
					<node name="conditions">
						<condition name="extraData" key="SummonMany" value="3" op="greaterEqual">
							<!-- 소환몹이 3마리 이상 남아있으면 졸몹 소환 안함 -->
							<node name="standby" limit="120" faceTarget="1" />
						</condition>
						<condition name="true">
							<!-- 소환몹이 2마리 이하 남아있으면 졸몹 소환 -->
							<node name="standby" limit="120" faceTarget="1" isKeepBattle="true">
								<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="111" summonPos="-2325, -1500, 2270" summonRot="0,0,315" />
								<!-- 11시  -->
								<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="112" summonPos="-1500, -2475, 2270" summonRot="0,0,315" />
								<!-- 2시  -->
								<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="113" summonPos="-2175, -3600, 2270" summonRot="0,0,315" />
								<!-- 5시  -->
								<node name="summon" npcId="16" npcCount="1" npcCountMax="1" group="114" summonPos="-3450, -2325, 2270" summonRot="0,0,315" />
								<!-- 7시  -->
							</node>
						</condition>
					</node>
				</node>
				<!--괴성 지르며 바위 떨구기-->
				<node name="standby" limit="500" faceTarget="0" cooltime="12000">
					<node name="select" prob="50,50">
						<node name="skill" idx="26">
							<node name="standby" limit="1500" faceTarget="1" />
						</node>
						<node name="skill" idx="27">
							<node name="standby" limit="1500" faceTarget="1" />
						</node>
					</node>
				</node>
				<node name="conditions">
					<condition name="skillRange" skillIdx="3">
						<node name="select" prob="70,29,1">
							<!--갈고리 2연타-->
							<node name="skill" idx="3">
								<node name="target" type="near" center="-2250, -2400, 2300">
									<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
									<node name="standby" limit="2100" faceTarget="1" />
								</node>
							</node>
							<!--원거리 발사 바닥 공격-->
							<node name="skill" cooltime="8000" idx="14">
								<node name="standby" limit="1800" faceTarget="1" />
							</node>
							<node name="standby" limit="1500" faceTarget="1">
								<node name="target" type="near" from="10" to="1500" />
							</node>
						</node>
					</condition>
					<condition name="skillRange" skillIdx="5">
						<node name="select" prob="70,15,15">
							<!--내려찍기 공격-->
							<node name="skill" cooltime="5000" idx="5">
								<node name="target" type="near" from="10" to="1500">
									<node name="standby" limit="2300" faceTarget="1" />
								</node>
							</node>
							<!--원거리 발사 바닥 공격-->
							<node name="skill" cooltime="7000" idx="14">
								<node name="target" type="near" center="-2250, -2400, 2300">
									<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
									<node name="standby" limit="1400" faceTarget="1" />
								</node>
							</node>
							<node name="standby" limit="1300" faceTarget="1">
								<node name="target" type="near" from="10" to="1500" />
							</node>
						</node>
					</condition>
					<condition name="skillRange" skillIdx="14">
						<node name="select" prob="70,30">
							<!--원거리 발사 바닥 공격-->
							<node name="skill" cooltime="7000" idx="14">
								<node name="target" type="near" from="10" to="1500">
									<node name="standby" limit="1800" faceTarget="1" />
								</node>
							</node>
							<node name="standby" limit="1300" faceTarget="1">
								<node name="target" type="near" center="-2250, -2400, 2300" />
								<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
							</node>
						</node>
					</condition>
					<condition name="true">
						<node name="standby" limit="1300" faceTarget="1">
							<node name="target" type="near" center="-2250, -2400, 2300" />
							<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
						</node>
					</condition>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="1Phase_Second">
			<!--1페이즈, 모든 졸몹 절멸할 경우에 본격 돌진 공격 기둥 출돌 패턴 행위-->
			<node name="conditions">
				<condition name="additional" id="50004511">
					<!--기둥 충돌 하면 보스몸에 50004511 레벨1 애디셔널에 붙는데 3페이즈에서 가장 높은 우선순위로 이 부분을 실행해야 하기 때문에 여기에 if 조건을 넣음-->
					<node name="skill" faceTarget="0" idx="13">
						<!--레벨6: 돌진 후 기절하는 동작-->
						<node name="say" message="$Balrog_PillarBroken$" durationTick="9000">
							<node name="standby" limit="1200" faceTarget="0">
								<node name="buff" type="remove" id="50004511" level="1">
									<!--기둥 충돌때의 몸에 붙는 애디셔널 여기서 제거하기, 이거 제거 안하면 무한 루프에 빠질 수 있음-->
									<node name="SetValue" key="DashAttackMode" value="0">
										<node name="select" prob="80,15,5">
											<!--  #중요: 이 변수 0으로 초기화 하여 돌진 공격 로직 조건문을 실행하지 않도록 함-->
											<node name="standby" limit="800" faceTarget="1">
												<!--중앙이동 없이 바로 다음 공격 행동하기-->
												<node name="target" type="near" center="-2250, -2400, 2300" />
												<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅 -->
											</node>
											<node name="skill" facePos="-2325, -2475, 2300" isKeepBattle="true" idx="19">
												<!--점프로 신속하게 중앙으로 이동하기-->
												<node name="jump" pos="-2325, -2475, 2300" speed="1100" heightMultiplier="0.6" />
												<!--전투판 중앙쪽으로 점프 뛰기, 도약 동작 없이 신속하게 바로 뛰기 -->
												<node name="skill" faceTarget="0" idx="20" />
												<!--점프 착지, 레벨2는 착지 때 공격 판정 있음 -->
												<node name="target" type="near" from="10" to="1500" />
												<node name="standby" limit="1350" faceTarget="1" />
											</node>
											<node name="move" destination="-2325, -2475, 2300" limit="4000">
												<!--중앙으로 걸어서 이동하기-->
												<node name="target" type="near" from="10" to="1500">
													<node name="standby" limit="300" faceTarget="1" />
												</node>
											</node>
										</node>
									</node>
								</node>
							</node>
						</node>
					</node>
				</condition>
				<condition name="extraData" key="DashAttackMode" value="2" op="greaterEqual">
					<!--#중요: 돌진 공격 중 기둥 출돌하면 바로 돌진공격 멈추고 기절 행동을 해야하기 때문에 변수 설정에 의한 연속 행동 설정을 하였음 -->
					<node name="standby" limit="350" faceTarget="1" isKeepBattle="true">
						<node name="skill" faceTarget="0" idx="11" />
						<!--두번째 이후 돌진 공격 -->
						<node name="target" type="near" from="100" to="1500" />
						<node name="SetValue" key="DashAttackMode" value="-1" isModify="1" />
						<!--  이 변수 -1 빼서  최종 1이 되면 돌진 공격 멈추도록 함-->
					</node>
				</condition>
				<condition name="extraData" key="DashAttackMode" value="1">
					<!--#중요: 돌진 공격 중 기둥 출돌하면 바로 돌진공격 멈추고 기절 행동을 해야하기 때문에 변수 설정에 의한 연속 행동 설정을 하였음 -->
					<node name="skill" faceTarget="0" isKeepBattle="true" idx="12">
						<!--돌진 후 마무리 -->
						<node name="target" type="near" center="-2250, -2400, 2300" />
						<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
						<node name="SetValue" key="DashAttackMode" value="0" />
						<!--  #중요: 이 변수 0으로 초기화 하여 돌진 공격 로직 조건문을 실행하지 않도록 함-->
						<node name="standby" limit="1500" faceTarget="1" />
					</node>
				</condition>
				<condition name="skillRange" skillIdx="3">
					<node name="select" prob="30,25,25,20">
						<node name="skill" faceTarget="1" cooltime="25000" idx="4">
							<!--레벨2: 2연타 휘두르기 바닥 내려찍기-->
							<node name="target" type="near" center="-2250, -2400, 2300">
								<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
								<node name="standby" limit="1300" faceTarget="1" />
							</node>
						</node>
						<node name="skill" faceTarget="1" cooltime="15000" idx="5">
							<!--레벨3: 바로 바닥 쾅  내려찍기-->
							<node name="target" type="near" center="-2250, -2400, 2300">
								<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
								<node name="standby" limit="1300" faceTarget="1" />
							</node>
						</node>
						<node name="skill" faceTarget="1" cooltime="15000" idx="4">
							<!--레벨2: 2연타 휘두르기 바닥 내려찍기-->
							<node name="target" type="near" from="100" to="2100">
								<!--휘두르기 근접 공격 3번 연속 사용하면 쿨타임에 걸려 돌진공격 하도록 하기 위해 이렇게 서정함-->
								<node name="standby" limit="1300" faceTarget="1" />
							</node>
						</node>
						<node name="skill" idx="9">
							<!--레벨2: 밀치기 후 돌진 시작, 몸통 돌진 공격 3연속 시작, 디버프 걸기는 사용 안함, #중요: 돌진 공격 중 기둥 출돌하면 바로 돌진공격 멈추고 기절 행동을 해야하기 때문에 변수 설정에 의한 연속 행동 설정을 하였음 -->
							<node name="skill" faceTarget="0" idx="10">
								<!--첫번째 돌진 공격 -->
								<node name="target" type="near" from="50" to="1500">
									<node name="select" prob="50,50">
										<node name="SetValue" key="DashAttackMode" value="4" />
										<!--돌진 공격 총 3회 실행-->
										<node name="SetValue" key="DashAttackMode" value="5" />
										<!--돌진 공격 총 4회 실행-->
									</node>
								</node>
							</node>
						</node>
					</node>
				</condition>
				<condition name="true">
					<node name="conditions">
						<condition name="skillRange" skillIdx="19">
							<!--1페이즈 전투판 안에 있으면(파티원 전원 전투판 아래로 떨어질 경우), 사정거리 1300 -->
							<node name="trace" limit="1500" skillIdx="1" />
							<!--갈고리 공격  사정권으로 추적하기 -->
						</condition>
						<condition name="true">
							<node name="select" prob="50,50">
								<node name="move" destination="-2250, -2400, 2260" limit="1500">
									<node name="target" type="near" center="-2250, -2400, 2300" />
									<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
								</node>
								<node name="standby" limit="1200" faceTarget="1">
									<node name="target" type="near" center="-2250, -2400, 2300" />
									<!-- 1페이지 전투판 중앙 지점 기준으로 타겟팅, 2페이지 전투판에 있는 경비병을 타겟팅 하면 안되기 때문에  -->
								</node>
							</node>
						</condition>
					</node>
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="2Phase_AttackPattern">
			<node name="select" prob="30,0">
				<!--2 3페이즈 전투 행동 정의-->
				<!--괴성 지르며 바위 떨구기, 공방업 버프가 없을 때만 사용하도록 설정함-->
				<node name="standby" limit="500" faceTarget="0" cooltime="27000">
					<node name="conditions">
						<condition name="additional" id="50000292">
							<node name="select" prob="70,30">
								<!--공방업 버프 상태일 때는 괴성 바위 떨구기 공격 사용하지 않음-->
								<node name="trace" limit="3000" skillIdx="3" />
								<!--갈고리 공격  사정권 650까지 추적하기 -->
								<node name="standby" limit="100" faceTarget="1" />
							</node>
						</condition>
						<condition name="true">
							<node name="select" prob="50,50,34">
								<!--캐논 레이저포에 맞아서 공방업 버프가 벗겨진 상태에서만 사용함-->
								<node name="skill" idx="26">
									<node name="standby" limit="1400" faceTarget="1" />
								</node>
								<node name="skill" idx="27">
									<node name="standby" limit="1400" faceTarget="1" />
								</node>
								<node name="standby" limit="500" faceTarget="1" />
							</node>
						</condition>
					</node>
				</node>
				<node name="conditions">
					<condition name="skillRange" skillIdx="3">
						<node name="select" prob="44,21,21,13,1">
							<!--  사정거리 750  -->
							<!--갈고리 2연타, 레벨11은 Move 설정-->
							<node name="skill" idx="6">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--갈고리 공격 후 타겟을 변경하지 않으면 제자리에서만 휘두를 가능성이 있어서 타겟 변경 설정함-->
									<node name="standby" limit="1500" faceTarget="1" />
								</node>
							</node>
							<!--갈고리 2연타 후 바닥 찍기 불큐브, 레벨12는 Move 설정-->
							<node name="skill" cooltime="18000" idx="7">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--갈고리 공격 후 타겟을 변경하지 않으면 제자리에서만 휘두를 가능성이 있어서 타겟 변경 설정함-->
									<node name="standby" limit="2100" faceTarget="1" />
								</node>
							</node>
							<!--바닥 찍기 불큐브, 레벨13은 Move 설정 -->
							<node name="skill" cooltime="14000" idx="8">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="1100" faceTarget="1" />
								</node>
							</node>
							<!--입에서 발사-->
							<node name="skill" cooltime="18000" idx="14">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="1300" faceTarget="1" />
								</node>
							</node>
							<node name="standby" limit="500" faceTarget="1" />
						</node>
					</condition>
					<condition name="skillRange" skillIdx="18">
						<node name="select" prob="40,19,20,1">
							<!--  사정거리 750~ 1050 -->
							<node name="trace" limit="3000" skillIdx="3" />
							<!--갈고리 공격  사정권 650까지 추적하기 -->
							<!--입에서 발사-->
							<node name="skill" cooltime="21000" idx="14">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="1500" faceTarget="1" />
								</node>
							</node>
							<!--점프 이동 쾅 공격-->
							<node name="skill" cooltime="18000" idx="18">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="2400" faceTarget="1" />
								</node>
							</node>
							<node name="standby" limit="800" faceTarget="1" />
						</node>
					</condition>
					<condition name="true">
						<node name="select" prob="20,20,59,1">
							<node name="trace" limit="3000" cooltime="9000" skillIdx="18" />
							<!--사정거리 1100까지 접근하기 -->
							<!--입에서 발사-->
							<node name="skill" cooltime="21000" idx="14">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="2100" faceTarget="1" />
								</node>
							</node>
							<!--점프 이동 쾅 공격-->
							<node name="skill" cooltime="15000" idx="18">
								<node name="target" type="near" center="1650, 1500, 2850">
									<!--자주 메인 전투판의 대상 타겟팅 하도록 함, 캐논 레이저포 설치하는 경비병 타겟팅 하는 상황을 최소화 하기 위해서-->
									<node name="standby" limit="2500" faceTarget="1" />
								</node>
							</node>
							<node name="standby" limit="800" faceTarget="1" />
						</node>
					</condition>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="2Phase_AttackPatternUp">
			<!--2 3페이즈 큐브 1~2칸 위의 플레이어 견제 행동, 여기는 타겟팅 설정 일부러 안함, 입자포 설치 NPC에게 타겟팅이 가면 공격을 안하게 설정했기 때문에 -->
			<node name="conditions">
				<condition name="skillRange" skillIdx="3">
					<node name="select" prob="59,40,1">
						<!--  사정거리 750  -->
						<!--갈고리 2연타, 레벨11은 Move 설정-->
						<node name="skill" idx="6">
							<node name="standby" limit="900" faceTarget="1" />
						</node>
						<!--입에서 발사-->
						<node name="skill" cooltime="15000" idx="14">
							<node name="standby" limit="1100" faceTarget="1" />
						</node>
						<node name="standby" limit="500" faceTarget="1" />
					</node>
				</condition>
				<condition name="skillRange" skillIdx="14">
					<!--  사정거리  1300 -->
					<!--입에서 발사-->
					<node name="skill" idx="14">
						<node name="select" prob="33,34,33">
							<node name="standby" limit="500" faceTarget="1" />
							<node name="standby" limit="1100" faceTarget="1" />
							<node name="standby" limit="1500" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="99,1">
						<node name="trace" limit="4000" cooltime="5000" skillIdx="14" />
						<!--사정거리 1300까지 접근하기 -->
						<node name="standby" limit="800" faceTarget="1" />
					</node>
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="2Phase_SummonCall">
			<node name="select" prob="99999,40,60">
				<!--2페이즈, 3페이즈, 소환몹 호출하기-->
				<node name="standby" limit="200" faceTarget="1" cooltime="48000" isKeepBattle="true">
					<!--2페이즈 전투판, 적대적 몬스터 졸병발록 , 경호원을 방해하는 역할-->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="301" summonPos="-600, 2250, 3160" summonRot="0,0,0" />
					<!-- 8시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="302" summonPos="-900, 1950, 3160" summonRot="0,0,0" />
					<!-- 8시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="303" summonPos="-300, 1050, 3010" summonRot="0,0,0" />
					<!-- 7시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="304" summonPos="-600, 1200, 3010" summonRot="0,0,0" />
					<!-- 7시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="305" summonPos="1350, -600, 3010" summonRot="0,0,0" />
					<!-- 5시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="306" summonPos="750, -600, 3010" summonRot="0,0,0" />
					<!-- 5시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="307" summonPos="2550, -600, 3160" summonRot="0,0,0" />
					<!-- 4시 , ##경호원을 방해하는 졸병 발록 -->
					<node name="summon" npcId="8" npcCount="1" npcCountMax="1" group="308" summonPos="1950, -1050, 3160" summonRot="0,0,0" />
					<!-- 4시 , ##경호원을 방해하는 졸병 발록 -->
				</node>
				<node name="standby" limit="200" faceTarget="1" cooltime="38000" isKeepBattle="true">
					<!--2페이즈 전투판, 적대적 몬스터 크림슨 발록, 경호원을 방해하는 역할-->
					<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="401" summonPos="-150, 2150, 2925" summonRot="0,0,0" />
					<!-- 8시 , ##경호원을 방해하는 크림슨발록 -->
					<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="402" summonPos="0, 900, 2860" summonRot="0,0,0" />
					<!-- 7시 , ##경호원을 방해하는 크림슨발록 -->
					<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="404" summonPos="1050, -150, 2860" summonRot="0,0,0" />
					<!-- 5시 , ##경호원을 방해하는 크림슨발록 -->
					<node name="summon" npcId="10" npcCount="1" npcCountMax="1" group="405" summonPos="2250, -300, 2925" summonRot="0,0,0" />
					<!-- 4시 , ##경호원을 방해하는 크림슨발록 -->
				</node>
				<node name="standby" limit="100" faceTarget="1" isKeepBattle="true">
					<!--2페이즈 전투판, 적대적 몬스터 발록 졸병, 엑스트라 역할, 바로바록 빈칸 채우기-->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="311" summonPos="-1950, 2250, 3160" summonRot="0,0,0" />
					<!-- 8시 , 졸병 발록 -->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="312" summonPos="-2100, 1800, 3160" summonRot="0,0,0" />
					<!-- 8시 , 졸병 발록 -->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="313" summonPos="1950, -2250, 3160" summonRot="0,0,0" />
					<!-- 4시 , 졸병 발록 -->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="314" summonPos="2400, -2100, 3160" summonRot="0,0,0" />
					<!-- 4시 , 졸병 발록 -->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="315" summonPos="-150, -450, 3160" summonRot="0,0,0" />
					<!-- 6시 , 졸병 발록 -->
					<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="316" summonPos="-300, 2850, 3160" summonRot="0,0,0" />
					<!-- 9시 , 졸병 발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="411" summonPos="-2475, 1575, 3025" summonRot="0,0,0" />
					<!-- 8시 아래쪽, 크림슨발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="412" summonPos="-2025, 2550, 3025" summonRot="0,0,0" />
					<!-- 8시 위쪽, 크림슨발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="413" summonPos="1725, -2625, 3025" summonRot="0,0,0" />
					<!-- 4시 아래쪽, 크림슨발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="414" summonPos="2700, -2175, 3025" summonRot="0,0,0" />
					<!-- 4시 위쪽, 크림슨발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="415" summonPos="-1000, 75, 2975" summonRot="0,0,0" />
					<!-- 6시 오른쪽, 크림슨발록 -->
					<node name="summon" npcId="11" npcCount="1" npcCountMax="1" group="416" summonPos="3300, -450, 3045" summonRot="0,0,0" />
					<!-- 3시 , 크림슨발록 -->
				</node>
			</node>
		</aiPreset>
		<aiPreset name="4Phase_SummonCall">
			<node name="select" prob="99999,40,60">
				<!--4페이즈, 소환몹 호출하기-->
				<node name="standby" limit="200" faceTarget="1" cooltime="25000" isKeepBattle="true">
					<!--4페이즈 전투판, 크림슨 발록 캐논포 설치 NPC 방해-->
					<node name="summon" npcId="13" npcCount="1" npcCountMax="1" group="422" summonPos="4800, 3680, 5560" summonRot="0,0,0" />
					<!-- 4페이즈 5시 , ##크림슨발록 -->
					<node name="standby" limit="1500" faceTarget="1" />
				</node>
				<node name="standby" limit="200" faceTarget="1" cooltime="17000" isKeepBattle="true">
					<!--4페이즈 전투판, 크림슨 발록 캐논포 설치 NPC 방해-->
					<node name="summon" npcId="13" npcCount="1" npcCountMax="1" group="421" summonPos="5925, 4200, 5560" summonRot="0,0,0" />
					<!-- 4페이즈 2시 , ##크림슨발록 -->
					<node name="standby" limit="1500" faceTarget="1" />
				</node>
				<node name="standby" limit="200" faceTarget="1" isKeepBattle="true">
					<!--3페이즈 전투판의 기타 엑스트라용  적대적 NPC 무리, 혹시 죽었을 경우의 빈칸 자주 채워넣기 -->
					<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="423" summonPos="3900, 4650, 4960" summonRot="0,0,0" />
					<!-- 4페이지 아래 가운데 왼쪽 , 졸병 발록 -->
					<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="424" summonPos="4800, 3750, 4960" summonRot="0,0,0" />
					<!-- 4페이지 아래 가운데 오른쪽 , 졸병 발록 -->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="425" summonPos="3750, 5780, 4810" summonRot="0,0,0" />
					<!-- 4페이즈 왼쪽 끝 , 크림슨발록 -->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="426" summonPos="5450, 3350, 4740" summonRot="0,0,0" />
					<!-- 4페이즈 오른쪽 끝 , 크림슨발록 -->
					<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="982" summonPos="3655, 4275, 4210" summonRot="0,0,0" />
					<!-- 4페이지 더 아래 왼쪽 , 졸병 발록 -->
					<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="983" summonPos="3370, 4235, 4210" summonRot="0,0,0" />
					<!-- 4페이지 더 아래 왼쪽 , 졸병 발록 -->
					<node name="summon" npcId="14" npcCount="1" npcCountMax="1" group="985" summonPos="4490, 3430, 4210" summonRot="0,0,0" />
					<!-- 4페이지 더 아래 왼쪽 , 졸병 발록 -->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="987" summonPos="1040, 5220, 4060" summonRot="0,0,0" />
					<!-- 4페이지 왼쪽 성벽, 크림슨 발록-->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="989" summonPos="5830, 2100, 4020" summonRot="0,0,0" />
					<!-- 4페이즈 오른쪽 성벽 외부, 크림슨 발록-->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="991" summonPos="750, 4200, 3460" summonRot="0,0,0" />
					<!-- 4페이즈 왼쪽 중간부 성벽, 크림슨 발록-->
					<node name="summon" npcId="15" npcCount="1" npcCountMax="1" group="993" summonPos="4230, 623, 3460" summonRot="0,0,0" />
					<!-- 4페이즈 오른쪽 중간부 성벽, 크림슨 발록-->
				</node>
			</node>
		</aiPreset>
	</aiPresets>
</npcAi>