<?xml version="1.0" encoding="utf-8"?>
<npcAi>
	<reserved>
		<condition name="hpLess" value="110">
			<node name="standby" limit="10" faceTarget="1" initialCooltime="0">
				<node name="say" message="흥! 풋내기 주제에!" durationTick="3000" delayTick="0" />
				<!--등장시 대사-->
				<node name="MinimumHp" hpPercent="79" />
				<node name="buff" type="add" id="69000501" />
				<node name="standby" limit="4000" faceTarget="0" />
				<node name="buff" type="remove" id="69000501" />
				<node name="standby" limit="2000" faceTarget="0" />
			</node>
		</condition>
		<condition name="hpLess" value="80">
			<node name="standby" limit="10" faceTarget="1" cooltime="15000" isKeepBattle="true">
				<!--날아올라, 기모아 폭파-->
				<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
				<node name="standby" limit="1000" faceTarget="0" />
				<node name="say" message="날 화나게 하다니!" durationTick="3000" delayTick="0" />
				<!--체력 80% 스킬 발동 시 대사-->
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="14" />
				<node name="standby" limit="1500" faceTarget="0" />
				<node name="sidePopup" type="cutin" illust="Madria_normal" duration="2000" />
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="8" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="10" />
				<node name="MinimumHp" />
				<node name="MinimumHp" hpPercent="49" />
				<node name="standby" limit="3000" faceTarget="0" />
			</node>
		</condition>
		<condition name="hpLess" value="50">
			<node name="standby" limit="10" faceTarget="1" cooltime="15000" isKeepBattle="true">
				<!--날아올라, 기모아 폭파-->
				<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
				<node name="standby" limit="1000" faceTarget="0" />
				<node name="say" message="짜증나 정말~!!!" durationTick="3000" delayTick="0" />
				<!--체력 50% 스킬 발동 시 대사-->
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="14" />
				<node name="standby" limit="1500" faceTarget="0" />
				<node name="sidePopup" type="cutin" illust="Madria_normal" duration="2000" />
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="8" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="10" />
				<node name="MinimumHp" />
				<node name="MinimumHp" hpPercent="19" />
				<node name="standby" limit="3000" faceTarget="0" />
			</node>
		</condition>
		<condition name="hpLess" value="20">
			<node name="standby" limit="10" faceTarget="1" cooltime="15000" isKeepBattle="true">
				<!--뿌띠 루카락스 소환 3기를 소환한다.-->
				<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
				<node name="standby" limit="1000" faceTarget="0" />
				<node name="sidePopup" type="talk" illust="Madria_unfair" script="까불지 말라구!!!" duration="4000" />
				<!--체력 20% 팝업 이미지 대사-->
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="14" />
				<node name="standby" limit="1500" faceTarget="0" />
				<node name="say" message="얘들아~ 납작하게 눌러버려!" durationTick="3000" delayTick="0" />
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="13" />
				<node name="summon" npcId="1" group="101" npcCount="1" npcCountMax="1" summonPos="-1199, 922, 1501" />
				<node name="summon" npcId="1" group="102" npcCount="1" npcCountMax="1" summonPos="-1195, -1331, 1501" />
				<node name="summon" npcId="1" group="103" npcCount="1" npcCountMax="1" summonPos="1045, -201, 1501" />
				<node name="MinimumHp" />
				<node name="MinimumHp" hpPercent="9" />
				<node name="standby" limit="3000" faceTarget="0" />
			</node>
		</condition>
		<condition name="hpLess" value="10">
			<node name="standby" limit="10" faceTarget="1" cooltime="15000" isKeepBattle="true">
				<!--날아올라, 기모아 폭파-->
				<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
				<node name="standby" limit="1000" faceTarget="0" />
				<node name="say" message="너어…진짜 가만두지 않을거야!!!" durationTick="3000" delayTick="0" />
				<!--체력 10% 스킬 발동 시 대사-->
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="14" />
				<node name="standby" limit="1500" faceTarget="0" />
				<node name="sidePopup" type="cutin" illust="Madria_normal" duration="2000" />
				<node name="skill" faceTarget="0" facePos="-76, 577, 1501" idx="8" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="9" />
				<node name="skill" faceTarget="0" idx="10" />
				<node name="MinimumHp" />
				<node name="standby" limit="3000" faceTarget="0" />
			</node>
		</condition>
	</reserved>
	<battle>
		<node name="select" prob="100,0">
			<!--타겟팅을 일정 시간마다  다시 renew 해주는 부분 -->
			<node name="standby" limit="10" faceTarget="1" cooltime="3000">
				<node name="target" type="rand" from="10" to="1500" />
			</node>
			<!--체력80%이상**************************************************************************************************************************** -->
			<node name="conditions">
				<condition name="hpOver" value="80">
					<node name="select" prob="9999,9999,0">
						<node name="standby" limit="10" faceTarget="1" cooltime="20000" initialCooltime="10000">
							<node name="target" type="far" from="400" to="1500">
								<node name="select" prob="50,20">
									<node name="skill" faceTarget="1" idx="12">
										<!--어둠의 불 /큐브 스킬-->
									</node>
									<node name="trace" limit="1000" skillIdx="1" />
								</node>
							</node>
						</node>
						<node name="standby" limit="10" faceTarget="1" cooltime="8000">
							<node name="select" prob="50,50">
								<node name="skill" idx="4">
									<!--돌진 후, 3단 화염구 -->
									<node name="skill" idx="2" />
									<node name="standby" limit="600" faceTarget="1" />
								</node>
								<node name="skill" idx="2">
									<!--3단 화염구, 돌진, 3단화염구, 돌진, 바닥 내려찍기 -->
									<node name="skill" idx="4" />
									<node name="skill" idx="2" />
									<node name="skill" idx="4" />
									<node name="skill" idx="3" />
									<node name="standby" limit="1500" faceTarget="1" />
								</node>
							</node>
						</node>
						<node name="conditions">
							<condition name="skillRange" skillIdx="1">
								<aiPreset name="Normal_Attack_1" />
								<!--기본 평타 프리셋 -->
							</condition>
							<condition name="true">
								<node name="select" prob="100,100">
									<node name="standby" limit="10" faceTarget="1" cooltime="4000">
										<!--돌진, 3단 화염구 -->
										<node name="skill" idx="4"></node>
									</node>
									<node name="trace" limit="3000" skillIdx="1" />
								</node>
							</condition>
						</node>
					</node>
				</condition>
				<!--체력50%이상**************************************************************************************************************************** -->
				<condition name="hpOver" value="50">
					<node name="select" prob="9999,9999,0">
						<node name="standby" limit="10" faceTarget="1" cooltime="20000" initialCooltime="10000">
							<node name="target" type="far" from="400" to="1500">
								<node name="select" prob="50,50,20">
									<node name="skill" faceTarget="1" idx="12">
										<!--어둠의 불 /큐브 스킬-->
									</node>
									<node name="skill" faceTarget="0" isKeepBattle="true" idx="5">
										<!--4방향 파이어볼, 사선 4방향 파이어볼 콤보-->
										<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
										<node name="skill" faceTarget="0" idx="5" />
										<node name="skill" faceTarget="0" idx="6" />
										<node name="skill" faceTarget="0" idx="7" />
										<node name="standby" limit="1000" faceTarget="0" />
									</node>
									<node name="trace" limit="1000" skillIdx="1" />
								</node>
							</node>
						</node>
						<node name="standby" limit="10" faceTarget="1" cooltime="8000">
							<node name="select" prob="50,50">
								<node name="skill" idx="4">
									<!--돌진 후, 3단 화염구 -->
									<node name="skill" idx="2" />
									<node name="standby" limit="600" faceTarget="1" />
								</node>
								<node name="skill" idx="2">
									<!--3단 화염구, 돌진, 3단화염구, 돌진, 바닥 내려찍기 -->
									<node name="skill" idx="4" />
									<node name="skill" idx="2" />
									<node name="skill" idx="4" />
									<node name="skill" idx="3" />
									<node name="standby" limit="1500" faceTarget="1" />
								</node>
							</node>
						</node>
						<node name="conditions">
							<condition name="skillRange" skillIdx="1">
								<aiPreset name="Normal_Attack_1" />
								<!--기본 평타 프리셋 -->
							</condition>
							<condition name="true">
								<node name="select" prob="100,100">
									<node name="standby" limit="10" faceTarget="1" cooltime="4000">
										<!--돌진, 3단 화염구 -->
										<node name="skill" idx="4"></node>
									</node>
									<node name="trace" limit="3000" skillIdx="1" />
								</node>
							</condition>
						</node>
					</node>
				</condition>
				<!--체력20%이하**************************************************************************************************************************** -->
				<condition name="true">
					<node name="select" prob="9999,9999,0">
						<node name="standby" limit="10" faceTarget="1" cooltime="20000" initialCooltime="10000">
							<node name="target" type="far" from="400" to="1500">
								<node name="select" prob="50,50,20">
									<node name="skill" faceTarget="1" idx="11">
										<!--어둠의 불 /블랙홀-->
									</node>
									<node name="skill" faceTarget="0" isKeepBattle="true" idx="5">
										<!--4방향 파이어볼, 사선 4방향 파이어볼 콤보-->
										<node name="move" destination="-76.87,-220.52,1501.00" animation="Attack_02_E" speed="1200" />
										<node name="skill" faceTarget="0" idx="5" />
										<node name="skill" faceTarget="0" idx="6" />
										<node name="skill" faceTarget="0" idx="7" />
										<node name="standby" limit="1000" faceTarget="0" />
									</node>
									<node name="trace" limit="1000" skillIdx="1" />
								</node>
							</node>
						</node>
						<node name="standby" limit="10" faceTarget="1" cooltime="8000">
							<node name="select" prob="50,50">
								<node name="skill" idx="4">
									<!--돌진 후, 3단 화염구 -->
									<node name="skill" idx="2" />
									<node name="standby" limit="600" faceTarget="1" />
								</node>
								<node name="skill" idx="2">
									<!--3단 화염구, 돌진, 3단화염구, 돌진, 바닥 내려찍기 -->
									<node name="skill" idx="4" />
									<node name="skill" idx="2" />
									<node name="skill" idx="4" />
									<node name="skill" idx="3" />
									<node name="standby" limit="1500" faceTarget="1" />
								</node>
							</node>
						</node>
						<node name="conditions">
							<condition name="skillRange" skillIdx="1">
								<aiPreset name="Normal_Attack_1" />
								<!--기본 평타 프리셋 -->
							</condition>
							<condition name="true">
								<node name="select" prob="100,100">
									<node name="standby" limit="10" faceTarget="1" cooltime="4000">
										<!--돌진, 3단 화염구 -->
										<node name="skill" idx="4"></node>
									</node>
									<node name="trace" limit="3000" skillIdx="1" />
								</node>
							</condition>
						</node>
					</node>
				</condition>
			</node>
		</node>
	</battle>
	<!--ai프리셋 모음 **************************************************************************************************************************************************************-->
	<aiPresets>
		<aiPreset name="Normal_Attack_1">
			<node name="conditions">
				<condition name="skillRange" skillIdx="3">
					<!-- 평타페이즈-->
					<!--기본공격 패턴-->
					<node name="standby" limit="10" faceTarget="1">
						<node name="select" prob="60,60">
							<node name="skill" cooltime="10000" idx="3">
								<!--바닥찍어 튕겨내기-->
								<node name="standby" limit="600" faceTarget="1" />
							</node>
							<node name="skill" cooltime="4000" idx="4">
								<!--돌진 후 화염구-->
								<node name="skill" idx="1" />
								<node name="standby" limit="100" faceTarget="1" />
							</node>
						</node>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="1">
					<node name="select" prob="100,100,0">
						<!--거리만큼 도달했다면 화염구와 3단 화염구중 하나를 번갈아 사용-->
						<node name="skill" cooltime="2000" idx="1">
							<node name="select" prob="100,60">
								<node name="runaway" till="600" limit="2300" />
								<node name="standby" limit="1000" faceTarget="1" />
							</node>
						</node>
						<node name="skill" cooltime="8000" idx="2">
							<node name="select" prob="100,60">
								<node name="runaway" till="600" limit="2300" />
								<node name="standby" limit="2000" faceTarget="1" />
							</node>
						</node>
						<node name="standby" limit="400" faceTarget="1" />
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="100,0">
						<node name="trace" cooltime="3000" skillIdx="1">
							<!--화염구 거리만큼 거리 벌리기-->
							<node name="skill" idx="1" />
							<node name="standby" limit="200" faceTarget="1" />
						</node>
						<node name="standby" limit="100" faceTarget="1" />
					</node>
				</condition>
			</node>
		</aiPreset>
	</aiPresets>
</npcAi>