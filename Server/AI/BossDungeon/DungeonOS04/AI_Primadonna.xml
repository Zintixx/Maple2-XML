<?xml version="1.0" encoding="utf-8"?>
<npcAi>	
	<!-- 스킬 별 인덱스
	부채 공격 	1	8	14
	소프라노	2	9	15
	소프라노 근버 유저 체크	180
	발성연습	3	10	16
	발성연습(회전)
		왼쪽	90도		213 214 215
		오른쪽	90도		216 217 218
		왼쪽	180도	219	220	221
		오른쪽	180도	222	223	224
	장미덩굴	4	11	17
	브라보		5	12	
	악단 연주	6	
	아리아		7	13	18	19	20	21
	아리아 - 아틀리에 디버프 제거	181
	페이즈 변경	22	23	24
	부채 던지기 25	26	27	/ 207 208 209 / 210 211 212
	아리에타	28, 29(모션)
		근접		30	31	32	33	/	34	35	36	37	/	38	39	40	41
		근거리		42	43	44	45	/	46	47	48	49	/	50	51	52	53
		중거리		54	55	56	57	/	58	59	60	61	/	62	63	64	65
		원거리		66	67	68	69	/	70	71	72	73	/	74	75	76	77
		원원거리	78	79	/	82	83	/	86	87
	브라보 조명
		모션			179
		셀프조명		88
		셀프이펙		89 ~ 96
		근거리		97 ~ 104	(450 - 45도 - 8개)
		중거리		105 ~ 120	(750 - 22.5도 - 16개)
		원거리		121 ~ 144	(1050 - 15도 - 24개)
		원원거리	145 ~ 176	(1350 - 11.25도 - 32개)
		광역 디버프	177
		광역 사망	178
		광역 디버프 제거 228
	동진
		충전		182
		직전-직후	(183,184) (185,186) (187,188) (189,190) (191,192) (193,194) (195,196)
	블링크
		사라짐		197
		나타남 직전-직후	(198,199) (200,201) (202,203)
	분신 거리체크 스킬	204
	좋아하기	205
	화내기		206
	주목	225, 226, 227	: 어려움 기믹으로
	-->
	
	<reserved>		
		<!-- 1페이즈 -->
		<condition name="hpLess" value="101">
			<!-- 스킬 aiPreset에서 페이즈를 판별하는 extraData 설정-->
			<node name="SetValue" key="phase" value="1" />
			<node name="SetValue" key="aria_phase" value="0" />
			<node name="SetValue" key="selectedPatternIdx" value="0"/>
			<node name="SetValue" key="moveNextStage" value="0" />
			<!-- BravoLight 개수 -->
			<node name="SetValue" key="BravoLight" value="0" />
			<!-- BravoLight 성공/실패 여부 트리거 통신 -->
			<node name="SetValue" key="BravoLight_CheckCount_Alive" value="0" />
			<node name="SetValue" key="BravoLight_CheckCount_Die" value="0" />
			<!-- Arietta와 BravoLight가 연속으로 사용되지 않도록 함 & 장소 이동시 BravoLight를 나중에 사용 -->
			<node name="SetValue" key="AriettaBravoLight" value="0" />
			<!-- 쌍둥이 분신 소환 -->
			<node name="SetValue" key="SummonCopyStep" value="0" />
			<!-- 일반 변수 -->
			<node name="SetValue" key="NearUserPattern" value="0"/>
		</condition>

		<!-- 2페이즈 -->
		<condition name="hpLess" value="85">
			<node name="skill" idx="22" level="1">
				<node name="SetValue" key="phase" value="2" />
			</node>
		</condition>

		<!-- 3페이즈 -->
		<condition name="hpLess" value="65">
			<node name="skill" idx="22" level="1">
				<node name="SetValue" key="phase" value="3" />
				<node name="MinimumHp" hpPercent="38" />
			</node>
		</condition>

		<!-- 4페이즈 -->
		<condition name="hpLess" value="40">
			<node name="SetValue" key="moveNextStage" value="1" />
		</condition>
		<condition name="hpLess" value="16">
			<node name="SetValue" key="SummonCopyStep" value="1"/>
		</condition>
	</reserved>
	<battle>
		<node name="conditions">
			<!-- BravoLight 성공/실패 판정 대기 및 진행 -->
			<condition name="extraData" key="BravoLight_CheckCount_Alive" value="1">
				<node name="SetValue" key="BravoLight" value="0" />
				<node name="SetValue" key="BravoLight_CheckCount_Alive" value="0" />
				<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLightInit" value="1"/>
				<!-- NPC 암전 버프 제거 -->
				<node name="buff" type="remove" id="44190012" level="1" />
				<!-- 스킬 종료 전달 -->
				<node name="SetSlaveValue" key="Skill_End" value="1"/>
				<node name="standby" limit="500" faceTarget="0"/>
				<!-- 암전 디버프 제거 -->
				<node name="skill" idx="228" />
				<!-- 싫어하기 -->
				<node name="skill" idx="206" level="1" faceTarget="1" />
				<node name="standby" limit="500" faceTarget="0"/>
			</condition>
			<condition name="extraData" key="BravoLight_CheckCount_Die" value="1">
				<node name="SetValue" key="BravoLight" value="0" />
				<node name="SetValue" key="BravoLight_CheckCount_Die" value="0" />
				<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLightOff" value="1"/>
				<node name="standby" limit="1000" faceTarget="0"/>
				<!-- 암전 디버프 소유자 공격 -->
				<node name="skill" idx="178" />
				<!-- <node name="skill" idx="227" /> -->
				<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLightInit" value="1"/>
				<node name="standby" limit="500" faceTarget="0"/>
				<!-- 좋아하기 -->
				<node name="skill" idx="205" level="1" faceTarget="1" />
				<!-- NPC 암전 버프 제거 -->
				<node name="buff" type="remove" id="44190012" level="1" />
				<!-- 스킬 종료 전달 -->
				<node name="SetSlaveValue" key="Skill_End" value="1"/>
				<node name="standby" limit="500" faceTarget="0"/>
			</condition>
			<condition name="extraData" key="BravoLight" value="1" op="greaterEqual">
				<node name="standby" limit="200" faceTarget="0"/>
			</condition>
			<!-- 아리아 도중에 다음 스테이지로 이동하거나, reserved value 및 ai 명령의 영향을 받지 말하야 한다. -->
			<condition name="extraData" key="aria_phase" value="1">
				<node name="conditions">
					<!-- 쉴드 파괴 실패 시 -->
					<condition name="extraData" key="brokenShieldFail" value="1">
						<node name="skill" idx="18" level="3" facePos="7780,-830,2701" />
						<!-- <node name="skill" idx="21" level="6" facePos="7780,-830,2701" />-->
						<node name="SetValue" key="aria_phase" value="0" />
						<node name="SetSlaveValue" key="Skill_End" value="1"/>
						<node name="standby" limit="1500" faceTarget="0" />
					</condition>
					<!-- 기 모으기 -->
					<condition name="extraData" key="remainShieldHP" value="1" op="greaterEqual">
						<node name="skill" idx="13" level="2" facePos="7780,-830,2701" />
						<!-- <node name="skill" idx="20" level="5" facePos="7780,-830,2701" > -->
					</condition>
					<!-- 쉴드 파괴 성공 시 -->
					<condition name="extraData" key="brokenShieldSuccess" value="1">
						<node name="SetValue" key="aria_phase" value="0" />
						<node name="SetSlaveValue" key="Skill_End" value="1"/>
						<node name="buff" type="add" id="44190030" level="1" />
						<!-- 아리에타 디버프 제거 (제거 안함으로 재수정)-->
						<!-- <node name="skill" idx="181" level="1" faceTarget="0" /> -->
						<node name="skill" idx="19" level="4" facePos="7780,-830,2701" />
						<node name="standby" limit="1500" faceTarget="0" />
					</condition>
				</node>					
			</condition>
			<condition name="extraData" key="SummonCopyStep" value="0" op="Greater">
				<node name="conditions">
					<!-- 쌍둥이 분신 소환 패턴 시작 -->
					<condition name="extraData" key="SummonCopyStep" value="1">
						<node name="SetValue" key="SummonCopyStep" value="2"/>
						<!-- 쌍둥이 분신 전에 드럼롤을 모두 제거해주자 -->
						<node name="RemoveSlaves" />
						<node name="skill" idx="23" />
						<node name="teleport" pos="10125, -826, 3001" />
						<node name="TriggerSetUserValue" triggerID="99999997" key="CheckBuff" value="1"/>
						<node name="skill" idx="24" facePos="7790,-830,2701"/>
						<node name="summon" npcId="7" npcCount="1" npcCountMax="2" group="201" summonPos="7790,-300,2701" />
						<node name="summon" npcId="8" npcCount="1" npcCountMax="2" group="201" summonPos="7790,-1350,2701" />
					</condition>
					<!-- 쌍둥이 분신 소환 패턴 -->
					<condition name="extraData" key="SummonCopyStep" value="2">
						<node name="conditions">
							<!-- 쌍둥이 분신 소환 패턴 시작 -->
							<condition name="SlaveCount" count="2" useSummonGroup="1" summonGroup="201" >
								<!-- 근접 체크 스플래시 시전 -->
								<!-- <node name="skill" idx="204" /> -->
								<node name="standby" limit="500" faceTarget="0" />
							</condition>
							<!-- 광폭화 -->
							<condition name="SlaveCount" count="1" useSummonGroup="1" summonGroup="201" >
								<node name="TriggerSetUserValue" triggerID="99999997" key="CheckBuff" value="0"/>
								<node name="SetValue" key="SummonCopyStep" value="3"/>
								<node name="SetSlaveValue" key="Angry" value="1" />
								<node name="standby" limit="1000" faceTarget="0" />
							</condition>
							<!-- 두 분신이 동시에 죽었을 때 처리 -->
							<condition name="true">
								<node name="TriggerSetUserValue" triggerID="99999997" key="CheckBuff" value="0"/>
								<node name="SetValue" key="SummonCopyStep" value="3"/>
							</condition>
						</node>
					</condition>
					<condition name="extraData" key="SummonCopyStep" value="3">
						<node name="conditions">
							<!-- 쌍둥이 분신 소환 끝 -->
							<condition name="SlaveCount" count="0" useSummonGroup="1" summonGroup="201" >
								<node name="SetValue" key="SummonCopyStep" value="0"/>
								<node name="MinimumHp" hpPercent="0" />
								<!-- Blink -->
								<node name="skill" idx="197" level="1" faceTarget="0" />
								<node name="buff" type="add" id="44190007" level="1" />
								<node name="teleport" pos="9000,-830,2701" />
								<node name="skill" idx="202" level="1" faceTarget="1" />
								<node name="standby" limit="900" faceTarget="0"/>
								<node name="buff" type="remove" id="44190007" level="1" />
								<node name="skill" idx="203" level="1" faceTarget="0" />
								<!-- 더미 분신 소환 -->
								<node name="TriggerSetUserValue" triggerID="99999997" key="CheckBuffMirror" value="1"/>
								<node name="summon" npcId="9" npcCount="1" npcCountMax="1" group="301" summonPos="7790,-300,2701" />
							</condition>
							<!-- 모든 소환몹 사망 -->
							<condition name="true">
								<node name="standby" limit="1000" faceTarget="0" />
							</condition>
						</node>
					</condition>
				</node>
			</condition>
			<!-- 테스트 AI 명령 -->
			<!--
			<condition name="true" >
						<node name="buff" type="add" id="44190030" level="1" />
			</condition>
			-->
			<!-- 보스 이동 -->
			<condition name="extraData" key="moveNextStage" value="0" op="Greater">
				<node name="conditions">
					<condition name="extraData" key="moveNextStage" value="1" >
						<node name="SetValue" key="moveNextStage" value="2"/>
						<node name="skill" idx="23" level="2" />
						<node name="SetValue" key="phase" value="4" />
						<!-- 장소 이동시 BravoLight를 나중에 사용 -->
						<node name="SetValue" key="AriettaBravoLight" value="0"/>
						<!--커튼이 걷히고 다음 무대로 텔레포트-->
						<node name="teleport" pos="7790,-830,2701" />
						<node name="standby" limit="2000" faceTarget="0" />
						<node name="TriggerSetUserValue" triggerID="99999990" key="CurtainOff" value="1"/>
						<node name="RemoveSlaves" />
					</condition>
					<condition name="extraData" key="moveNextStage" value="2" >
						<!-- 스케일 감소 버프가 걸린상태로 트리거 응답 대기 -->
						<node name="standby" limit="500" faceTarget="0" />
					</condition>
					<condition name="extraData" key="moveNextStage" value="3" >
						<!-- 등장 연출 및 hp 하한 변경 -->
						<node name="MinimumHp" hpPercent="10" />
						<node name="skill" idx="24" level="3" facePos="7780,-830,2701"/>
						<node name="SetValue" key="moveNextStage" value="0"/>		
					</condition>
				</node>
			</condition>
			
			<!-- 중간에 보스의 페이즈 이동이 있더라도 문제없는 AI는 이 아래에 작성한다 -->
			<condition name="true" >
				<node name="select" prob="9999,0">
					<!-- 9초마다 타겟 변경 -->
					<node name="standby" limit="10" faceTarget="0" cooltime="9000">
						<node name="select" prob="1,1">
							<node name="target" type="near" from="5" to="3000" />
							<node name="target" type="rankAssociate" rank="1" />
						</node>
					</node>			
					<node name="conditions">
						<condition name="extraData" key="phase" value="1" >
							<node name="select" prob="9999,1">
								<node name="standby" limit="100" faceTarget="0" cooltime="35000" >
									<aiPreset name="WalkRandom"/>
								</node>
								<node name="target" type="near" from="5" to="300" >
									<!-- 근접 유저 체크 -->
									<node name="conditions">
										<condition name="skillRange" skillIdx="180">
											<node name="select" prob="2,1">
												<node name="SetValue" key="NearUserPattern" value="1"/>
												<node name="SetValue" key="NearUserPattern" value="0"/>
											</node>
										</condition>
										<condition name="true" >
											<node name="SetValue" key="NearUserPattern" value="0"/>
										</condition>
									</node>
									<node name="conditions">
										<condition name="extraData" key="NearUserPattern" value="1" >
											<node name="standby" limit="800" faceTarget="1" />
											<node name="select" prob="2,2,3,3">
												<aiPreset name="Soprano"/>
												<aiPreset name="FanThrow"/>
												<aiPreset name="VocalExercises"/>
												<aiPreset name="RoseVines"/>
											</node>
										</condition>
										<condition name="true" >
											<node name="select" prob="2,8">
												<node name="target" type="near" from="5" to="3000">
													<node name="standby" limit="800" faceTarget="1" />
													<!-- trace Soprano 2,9,15 -->
													<node name="trace" skillIdx="2" limit="3000" />
													<node name="conditions">
														<condition name="skillRange" skillIdx="2">
															<aiPreset name="Soprano"/>
														</condition>
														<condition name="true" >
															<aiPreset name="FanThrow"/>
														</condition>
													</node>
												</node>
												<node name="standby" limit="10" faceTarget="0">
													<node name="select" prob="1,1,1,1">
														<node name="target" type="near" from="5" to="3000" />
														<node name="target" type="rankAssociate" rank="1" />
														<node name="target" type="mid" from="5" to="3000" />
														<node name="target" type="far" from="5" to="3000" />
													</node>
													<node name="standby" limit="800" faceTarget="1" />
													<node name="select" prob="5,2,3">
														<aiPreset name="FanThrow"/>
														<aiPreset name="VocalExercises"/>
														<aiPreset name="RoseVines"/>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
							
							<!-- common delay -->
							<node name="standby" limit="900" faceTarget="0" />
						</condition>
						<condition name="extraData" key="phase" value="2" >
							<node name="select" prob="9999,99,1,3">
								<node name="standby" limit="100" faceTarget="0" cooltime="80000" >
									<aiPreset name="Performance"/>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="30000">
									<aiPreset name="Arietta"/>
									<node name="select" prob="1,1">
										<aiPreset name="VocalExercises"/>
										<node name="standby" limit="100" faceTarget="0" />
									</node>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="35000" >
									<aiPreset name="WalkRandom"/>
								</node>
								<node name="target" type="near" from="5" to="300" >
									<!-- 근접 유저 체크 -->
									<node name="conditions">
										<condition name="skillRange" skillIdx="180">
											<node name="select" prob="2,1">
												<node name="SetValue" key="NearUserPattern" value="1"/>
												<node name="SetValue" key="NearUserPattern" value="0"/>
											</node>
										</condition>
										<condition name="true" >
											<node name="SetValue" key="NearUserPattern" value="0"/>
										</condition>
									</node>
									<node name="conditions">
										<condition name="extraData" key="NearUserPattern" value="1" >
											<node name="standby" limit="600" faceTarget="1" />
											<node name="select" prob="2,2,2,2">
												<aiPreset name="Soprano"/>
												<aiPreset name="FanThrow"/>
												<aiPreset name="VocalExercises"/>
												<node name="standby" limit="100" faceTarget="0" >
													<aiPreset name="RoseVines"/>
													<node name="select" prob="1,1">
														<aiPreset name="VocalExercises"/>
														<node name="standby" limit="100" faceTarget="0" />
													</node>
												</node>
											</node>
										</condition>
										<condition name="true" >
											<node name="select" prob="2,8">
												<node name="target" type="near" from="5" to="3000">
													<node name="standby" limit="600" faceTarget="1" />
													<!-- trace Soprano 2,9,15 -->
													<node name="trace" skillIdx="9" limit="3000" />
													<node name="conditions">
														<condition name="skillRange" skillIdx="9">
															<aiPreset name="Soprano"/>
														</condition>
														<condition name="true" >
															<aiPreset name="FanThrow"/>
														</condition>
													</node>
												</node>
												<node name="standby" limit="10" faceTarget="0">
													<node name="select" prob="1,1,1,1">
														<node name="target" type="near" from="5" to="3000" />
														<node name="target" type="rankAssociate" rank="1" />
														<node name="target" type="mid" from="5" to="3000" />
														<node name="target" type="far" from="5" to="3000" />
													</node>
													<node name="standby" limit="600" faceTarget="1" />
													<node name="select" prob="3,3,4">
														<aiPreset name="FanThrow"/>
														<aiPreset name="VocalExercises"/>
														<node name="standby" limit="100" faceTarget="0" >
															<aiPreset name="RoseVines"/>
															<node name="select" prob="1,1">
																<aiPreset name="VocalExercises"/>
																<node name="standby" limit="100" faceTarget="0" />
															</node>
														</node>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
							<!-- common delay -->
							<node name="standby" limit="700" faceTarget="0" />
						</condition>
						<condition name="extraData" key="phase" value="3" >
							<node name="select" prob="9999,99,1,3">
								<node name="standby" limit="100" faceTarget="0" cooltime="45000" >
									<node name="conditions">
										<condition name="extraData" key="AriettaBravoLight" value="0" >
											<node name="standby" limit="100" faceTarget="0" >
												<aiPreset name="Arietta"/>
												<node name="select" prob="1,1">
													<aiPreset name="VocalExercises"/>
													<node name="standby" limit="100" faceTarget="0" />
												</node>
											</node>
											<node name="SetValue" key="AriettaBravoLight" value="1"/>
										</condition>
										<condition name="true" >
											<aiPreset name="BravoLight"/>
											<node name="SetValue" key="AriettaBravoLight" value="0"/>
										</condition>
									</node>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="90000" >
									<aiPreset name="Performance"/>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="45000" >
									<aiPreset name="BlinkRandom"/>
								</node>
								<node name="target" type="near" from="5" to="300" >
									<!-- 근접 유저 체크 -->
									<node name="conditions">
										<condition name="skillRange" skillIdx="180">
											<node name="select" prob="2,1">
												<node name="SetValue" key="NearUserPattern" value="1"/>
												<node name="SetValue" key="NearUserPattern" value="0"/>
											</node>
										</condition>
										<condition name="true" >
											<node name="SetValue" key="NearUserPattern" value="0"/>
										</condition>
									</node>
									<node name="conditions">
										<condition name="extraData" key="NearUserPattern" value="1" >
											<node name="standby" limit="500" faceTarget="1" />
											<node name="select" prob="3,7">
												<aiPreset name="Soprano"/>
												<node name="select" prob="1,1,1,1">
													<aiPreset name="FanThrow"/>
													<aiPreset name="VocalExercises"/>
													<node name="standby" limit="100" faceTarget="0" >
														<aiPreset name="RoseVines"/>
														<node name="select" prob="1,1">
															<aiPreset name="VocalExercises"/>
															<node name="standby" limit="100" faceTarget="0" />
														</node>
													</node>
													<aiPreset name="Bravo"/>
												</node>
											</node>
										</condition>
										<condition name="true" >
											<node name="select" prob="2,8">
												<node name="target" type="near" from="5" to="3000">
													<node name="standby" limit="500" faceTarget="1" />
													<!-- trace Soprano 2,9,15 -->
													<node name="trace" skillIdx="9" limit="3000" />
													<node name="conditions">
														<condition name="skillRange" skillIdx="9">
															<aiPreset name="Soprano"/>
														</condition>
														<condition name="true" >
															<aiPreset name="FanThrow"/>
														</condition>
													</node>
												</node>
												<node name="standby" limit="10" faceTarget="0">
													<node name="select" prob="1,1,1,1">
														<node name="target" type="near" from="5" to="3000" />
														<node name="target" type="rankAssociate" rank="1" />
														<node name="target" type="mid" from="5" to="3000" />
														<node name="target" type="far" from="5" to="3000" />
													</node>
													<node name="standby" limit="500" faceTarget="1" />
													<node name="select" prob="1,1,1,1">
														<aiPreset name="FanThrow"/>
														<aiPreset name="VocalExercises"/>
														<node name="standby" limit="100" faceTarget="0" >
															<aiPreset name="RoseVines"/>
															<node name="select" prob="1,1">
																<aiPreset name="VocalExercises"/>
																<node name="standby" limit="100" faceTarget="0" />
															</node>
														</node>
														<aiPreset name="Bravo"/>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
							<!-- common delay -->
							<node name="standby" limit="500" faceTarget="0" />
						</condition>
						<condition name="extraData" key="phase" value="4" >
							<node name="select" prob="99999,99,1,3">
								<node name="standby" limit="100" faceTarget="0" cooltime="45000" >
									<node name="conditions">
										<condition name="extraData" key="AriettaBravoLight" value="0" >
											<node name="SetSlaveValue" key="Skill_Start" value="1"/>
											<node name="standby" limit="100" faceTarget="0" >
												<!-- 70% 확률로 아리에타-아리아 시전 -->
												<node name="select" prob="7,3">
													<node name="standby" limit="100" faceTarget="0" >
														<aiPreset name="Arietta"/>
														<node name="standby" limit="200" faceTarget="0" />
														<aiPreset name="Aria"/>
													</node>
													<node name="standby" limit="100" faceTarget="0" >
														<!-- 쿨타임이 돌아가는 중이면 60% 확률로 아리에타 이후 발성 연습 시전 -->
														<aiPreset name="Arietta"/>
														<node name="SetSlaveValue" key="Skill_Delay_End" value="1"/>
														<node name="select" prob="6,4">
															<aiPreset name="VocalExercises"/>
															<node name="standby" limit="100" faceTarget="0" />
														</node>
													</node>
												</node>
											</node>
											<node name="SetValue" key="AriettaBravoLight" value="1"/>
										</condition>
										<condition name="true" >
											<node name="SetSlaveValue" key="Skill_Start" value="1"/>
											<aiPreset name="BravoLight"/>
											<node name="SetValue" key="AriettaBravoLight" value="0"/>
										</condition>
									</node>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="90000" >
									<aiPreset name="Performance"/>
								</node>
								<node name="standby" limit="100" faceTarget="0" cooltime="45000" >
									<aiPreset name="BlinkRandom"/>
								</node>
								<node name="target" type="near" from="5" to="300" >
									<!-- 근접 유저 체크 -->
									<node name="conditions">
										<condition name="skillRange" skillIdx="180">
											<node name="select" prob="2,1">
												<node name="SetValue" key="NearUserPattern" value="1"/>
												<node name="SetValue" key="NearUserPattern" value="0"/>
											</node>
										</condition>
										<condition name="true" >
											<node name="SetValue" key="NearUserPattern" value="0"/>
										</condition>
									</node>
									<node name="conditions">
										<condition name="extraData" key="NearUserPattern" value="1" >
											<node name="standby" limit="300" faceTarget="1" />
											<node name="select" prob="2,8">
												<aiPreset name="Soprano"/>
												<node name="select" prob="1,1,1,1">
													<aiPreset name="FanThrow"/>
													<aiPreset name="VocalExercises"/>
													<node name="standby" limit="100" faceTarget="0" >
														<aiPreset name="RoseVines"/>
														<node name="select" prob="1,1">
															<aiPreset name="VocalExercises"/>
															<node name="standby" limit="100" faceTarget="0" />
														</node>
													</node>
													
													<aiPreset name="Bravo"/>
												</node>
											</node>
										</condition>
										<condition name="true" >
											<node name="select" prob="2,8">
												<node name="target" type="near" from="5" to="3000">
													<node name="standby" limit="300" faceTarget="1" />
													<!-- trace Soprano 2,9,15 -->
													<node name="trace" skillIdx="15" limit="3000" />
													<node name="conditions">
														<condition name="skillRange" skillIdx="15">
															<aiPreset name="Soprano"/>
														</condition>
														<condition name="true" >
															<aiPreset name="FanThrow"/>
														</condition>
													</node>
												</node>
												<node name="standby" limit="10" faceTarget="0">
													<node name="select" prob="1,1,1,1">
														<node name="target" type="near" from="5" to="3000" />
														<node name="target" type="rankAssociate" rank="1" />
														<node name="target" type="mid" from="5" to="3000" />
														<node name="target" type="far" from="5" to="3000" />
													</node>
													<node name="standby" limit="300" faceTarget="1" />
													<node name="select" prob="1,1,1,1">
														<aiPreset name="FanThrow"/>
														<aiPreset name="VocalExercises"/>
														<node name="standby" limit="100" faceTarget="0" >
															<aiPreset name="RoseVines"/>
															<node name="select" prob="1,1">
																<aiPreset name="VocalExercises"/>
																<node name="standby" limit="100" faceTarget="0" />
															</node>
														</node>
														
														<aiPreset name="Bravo"/>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
							<!-- common delay -->
							<node name="standby" limit="500" faceTarget="0" />
						</condition>
					</node>
				</node>		
			</condition>
		</node>
	</battle>
	<battleEnd>
		<!-- 보스 사망과 함께 주시 버프 제거 -->
		<node name="TriggerSetUserValue" triggerID="99999997" key="CheckBuffMirror" value="0"/>
	</battleEnd>
	<aiPresets>
		<!-- 프리마돈나 일반 공격 -->
		<aiPreset name="FanSmash">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="1">
					<node name="skill" idx="1" level="1" />
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="8" level="2" />
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">					
					<node name="skill" idx="14" level="3" />
				</condition>
			</node>
		</aiPreset>
		<!-- 프리마돈나 부채 던지기 -->
		<aiPreset name="FanThrow">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="27" />
					<!-- <node name="skill" idx="27" faceTarget="3" faceTargetTick="0.9" /> -->
					<!--
					<node name="select" prob="1,1,1">
						<node name="skill" idx="25" faceTarget="3" faceTargetTick="1.25" />
						<node name="skill" idx="26" faceTarget="3" faceTargetTick="1.05" />
						<node name="skill" idx="27" faceTarget="3" faceTargetTick="0.9" />
					</node>
					-->
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="209" />
					<!-- <node name="skill" idx="209" faceTarget="3" faceTargetTick="0.9" /> -->
					<!--
					<node name="select" prob="1,1,1">
						<node name="skill" idx="207" faceTarget="3" faceTargetTick="1.25" />
						<node name="skill" idx="208" faceTarget="3" faceTargetTick="1.05" />
						<node name="skill" idx="209" faceTarget="3" faceTargetTick="0.9" />
					</node>
					-->
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">
					<node name="skill" idx="212" />
					<!-- <node name="skill" idx="212" faceTarget="3" faceTargetTick="0.9" /> -->
					<!--
					<node name="select" prob="1,1,1">
						<node name="skill" idx="210" faceTarget="3" faceTargetTick="2.0" />
						<node name="skill" idx="211" faceTarget="3" faceTargetTick="1.05" />
						<node name="skill" idx="212" faceTarget="3" faceTargetTick="0.9" />
					</node>
					-->
				</condition>
			</node>
		</aiPreset>
		<!-- 소프라노 -->
		<aiPreset name="Soprano">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="2" faceTarget="3" />
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="9" faceTarget="3" />
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">					
					<node name="skill" idx="15" faceTarget="3" />
				</condition>
			</node>
		</aiPreset>

		<!-- 발성 연습 -->
		<aiPreset name="VocalExercises">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="select" prob="1,1">
						<node name="skill" idx="213" />
						<node name="skill" idx="216" />
					</node>
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="select" prob="1,1">
						<node name="skill" idx="214" />
						<node name="skill" idx="217" />
					</node>
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">					
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="215" />
						<node name="skill" idx="218" />
						<node name="skill" idx="221" />
						<node name="skill" idx="224" />
					</node>
				</condition>
			</node>
		</aiPreset>

		<!-- 장미 덩굴 -->
		<aiPreset name="RoseVines">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="4" level="1" faceTarget="3" faceTargetTick="1200" />
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="11" level="2" faceTarget="3" faceTargetTick="1200" />
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">					
					<node name="skill" idx="17" level="3" faceTarget="3" faceTargetTick="1200" />
				</condition>
			</node>
		</aiPreset>

		<!-- 아리에타 -->
		<aiPreset name="Arietta">
			<node name="conditions">
				<!-- 1페이즈 -->
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="move" destination="600,-825,1501" animation="Run_A" />
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="30" facePos="590,-825,1501"/>
						<node name="skill" idx="31" facePos="590,-825,1501"/>
						<node name="skill" idx="32" facePos="590,-825,1501"/>
						<node name="skill" idx="33" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="42" facePos="590,-825,1501"/>
						<node name="skill" idx="43" facePos="590,-825,1501"/>
						<node name="skill" idx="44" facePos="590,-825,1501"/>
						<node name="skill" idx="45" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="54" facePos="590,-825,1501"/>
						<node name="skill" idx="55" facePos="590,-825,1501"/>
						<node name="skill" idx="56" facePos="590,-825,1501"/>
						<node name="skill" idx="57" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="66" facePos="590,-825,1501"/>
						<node name="skill" idx="67" facePos="590,-825,1501"/>
						<node name="skill" idx="68" facePos="590,-825,1501"/>
						<node name="skill" idx="69" facePos="590,-825,1501"/>
					</node>
					<node name="skill" idx="28" facePos="590,-825,1501"/>
				</condition>
				<!-- 2~3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="move" destination="600,-825,1501" animation="Run_A" />
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="34" facePos="590,-825,1501"/>
						<node name="skill" idx="35" facePos="590,-825,1501"/>
						<node name="skill" idx="36" facePos="590,-825,1501"/>
						<node name="skill" idx="37" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="46" facePos="590,-825,1501"/>
						<node name="skill" idx="47" facePos="590,-825,1501"/>
						<node name="skill" idx="48" facePos="590,-825,1501"/>
						<node name="skill" idx="49" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="58" facePos="590,-825,1501"/>
						<node name="skill" idx="59" facePos="590,-825,1501"/>
						<node name="skill" idx="60" facePos="590,-825,1501"/>
						<node name="skill" idx="61" facePos="590,-825,1501"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="70" facePos="590,-825,1501"/>
						<node name="skill" idx="71" facePos="590,-825,1501"/>
						<node name="skill" idx="72" facePos="590,-825,1501"/>
						<node name="skill" idx="73" facePos="590,-825,1501"/>
					</node>
					<node name="skill" idx="29" facePos="590,-825,1501"/>
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">					
					<node name="move" destination="7800,-825,2701" animation="Run_A" />
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="38" facePos="7790,-825,2701"/>
						<node name="skill" idx="39" facePos="7790,-825,2701"/>
						<node name="skill" idx="40" facePos="7790,-825,2701"/>
						<node name="skill" idx="41" facePos="7790,-825,2701"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="50" facePos="7790,-825,2701"/>
						<node name="skill" idx="51" facePos="7790,-825,2701"/>
						<node name="skill" idx="52" facePos="7790,-825,2701"/>
						<node name="skill" idx="53" facePos="7790,-825,2701"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="62" facePos="7790,-825,2701"/>
						<node name="skill" idx="63" facePos="7790,-825,2701"/>
						<node name="skill" idx="64" facePos="7790,-825,2701"/>
						<node name="skill" idx="65" facePos="7790,-825,2701"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="74" facePos="7790,-825,2701"/>
						<node name="skill" idx="75" facePos="7790,-825,2701"/>
						<node name="skill" idx="76" facePos="7790,-825,2701"/>
						<node name="skill" idx="77" facePos="7790,-825,2701"/>
					</node>
					<node name="select" prob="1,1,1,1">
						<node name="skill" idx="86" facePos="7790,-825,2701"/>
						<node name="skill" idx="87" facePos="7790,-825,2701"/>
					</node>
					<node name="skill" idx="29" facePos="7790,-825,2701"/>
				</condition>
			</node>			
		</aiPreset>

		<!-- 브라보 -->
		<aiPreset name="Bravo">
			<node name="conditions">
				<!-- 3페이즈 -->
				<condition name="extraData" key="phase" value="3">
					<node name="skill" idx="5" level="1" />
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">
					<node name="skill" idx="12" level="2" />
				</condition>
			</node>			
		</aiPreset>

		<!-- 악단 연주 -->
		<!--
			빨간 드럼롤	1	2	3
			초록 드럼롤	4	5	6
			쌍둥이 분신 패턴	7	8
			마지막 분신	패턴	9
			전투 드럼롤		10
		-->
		<aiPreset name="Performance">
			<node name="conditions">
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="select" prob="1,1">
						<node name="standby" limit="10" faceTarget="0">
							<node name="summon" npcId="2" npcCount="1" npcCountMax="2" group="101" delayTick="1337" summonPos="1125,-825,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="2" group="102" delayTick="1437" summonPos="675,-1350,1501" />
							<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1537" summonPos="75,-1125,1501" />
						</node>
						<node name="standby" limit="10" faceTarget="0">
							<node name="summon" npcId="2" npcCount="1" npcCountMax="2" group="101" delayTick="1337" summonPos="225,-1125,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="2" group="102" delayTick="1437" summonPos="600,-1350,1501" />
							<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1537" summonPos="975,-1125,1501" />
						</node>
					</node>
					<node name="skill" idx="6" level="1" />
				</condition>
				<condition name="true">
					<node name="conditions">
						<condition name="extraData" key="userCount" value="4" op="lessEqual">
							<node name="select" prob="1,1">
								<node name="standby" limit="10" faceTarget="0">
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1437" summonPos="8625,-225,2701" />
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1537" summonPos="8625,-1425,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1637" summonPos="7125,-225,2701" />
								</node>
								<node name="standby" limit="10" faceTarget="0">
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1437" summonPos="7125,-225,2701" />
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1537" summonPos="7125,-1425,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1637" summonPos="8625,-225,2701" />							
								</node>
							</node>
						</condition>
						<condition name="true">
							<node name="select" prob="1,1">
								<node name="standby" limit="10" faceTarget="0">
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1337" summonPos="8625,-225,2701" />
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1437" summonPos="8625,-1425,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1537" summonPos="7790,-1725,2701" />
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1637" summonPos="7790,75,2701" />
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1737" summonPos="7125,-225,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1837" summonPos="7125,-1425,2701" />
								</node>
								<node name="standby" limit="10" faceTarget="0">
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1337" summonPos="7790,75,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1437" summonPos="7125,-225,2701" />
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="7125,-1425,2701" />
									<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="102" delayTick="1637" summonPos="8625,-225,2701" />
									<node name="summon" npcId="10" npcCount="1" npcCountMax="2" group="103" delayTick="1737" summonPos="8625,-1425,2701" />
									<node name="summon" npcId="3" npcCount="1" npcCountMax="2" group="101" delayTick="1837" summonPos="7790,-1725,2701" />
								</node>
							</node>
						</condition>
					</node>					
					<node name="skill" idx="6" level="1" />
				</condition>
			</node>
		</aiPreset>
		
		<!-- 외주 position -->
		<!--
		<aiPreset name="Performance_Heal">
			<node name="conditions">
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="conditions">
						<condition name="extraData" key="userCount" value="2" op="lessEqual">
							<node name="summon" npcId="4" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="600,-300,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="600,-1350,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="3">
							<node name="summon" npcId="4" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="225,-300,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="225,-1350,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="1125,-825,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="4">
							<node name="summon" npcId="4" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="975,-525,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="225,-525,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="225,-1125,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="975,-1125,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="5">
							<node name="summon" npcId="4" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="1125,-825,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="675,-1350,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="675,-300,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="75,-525,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="75,-1125,1501" />
						</condition>
						<condition name="true">
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="975,-525,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="600,-300,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="225,-525,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="225,-1125,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="600,-1350,1501" />
							<node name="summon" npcId="4" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="975,-1125,1501" />
						</condition>
					</node>
					<node name="skill" idx="6" level="1" />
				</condition>
				<condition name="extraData" key="phase" value="3">
					<node name="conditions">
						<condition name="extraData" key="userCount" value="2" op="lessEqual">
							<node name="summon" npcId="5" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="600,-300,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="600,-1350,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="3">
							<node name="summon" npcId="5" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="225,-300,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="225,-1350,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="1125,-825,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="4">
							<node name="summon" npcId="5" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="975,-525,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="225,-525,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="225,-1125,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="975,-1125,1501" />
						</condition>
						<condition name="extraData" key="userCount" value="5">
							<node name="summon" npcId="5" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="1125,-825,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="675,-1350,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="675,-300,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="75,-525,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="75,-1125,1501" />
						</condition>
						<condition name="true">
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="975,-525,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="600,-300,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="225,-525,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="225,-1125,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="600,-1350,1501" />
							<node name="summon" npcId="5" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="975,-1125,1501" />
						</condition>
					</node>
					<node name="skill" idx="6" level="1" />
				</condition>
				<condition name="true">
					<node name="conditions">
						<condition name="extraData" key="userCount" value="2" op="lessEqual">
							<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="7790,75,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="2" group="101" delayTick="1537" summonPos="7790,-1725,2701" />
						</condition>
						<condition name="extraData" key="userCount" value="3">
							<node name="summon" npcId="6" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="8625,-825,1501" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="7125,-75,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="3" group="101" delayTick="1537" summonPos="7125,-1575,2701" />
						</condition>
						<condition name="extraData" key="userCount" value="4">
							<node name="summon" npcId="6" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="8625,-225,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="8625,-1425,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="7125,-225,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="4" group="101" delayTick="1537" summonPos="7125,-1425,2701" />
						</condition>
						<condition name="extraData" key="userCount" value="5">
							<node name="summon" npcId="6" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="8625,-825,1501" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="7940,-75,1501" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="7940,-1575,1501" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="7125,-375,1501" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="5" group="101" delayTick="1537" summonPos="7125,-1275,1501" />
						</condition>
						<condition name="true">
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="8625,-225,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="8625,-1425,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="7790,-1725,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="7790,75,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="7125,-225,2701" />
							<node name="summon" npcId="6" npcCount="1" npcCountMax="6" group="101" delayTick="1537" summonPos="7125,-1425,2701" />
						</condition>
					</node>					
					<node name="skill" idx="6" level="1" />
				</condition>
			</node>
		</aiPreset>
		-->

		<!-- 아리아 -->
		<aiPreset name="Aria">
			<!-- 중앙 이동후 쉴드 생성 및 기 모으기 패턴 시작. -->
			<node name="move" destination="7800,-825,2701" animation="Run_A" />
			<node name="skill" idx="7" level="1" facePos="7780,-825,2701"/>
			<node name="SetValue" key="aria_phase" value="1" />
		</aiPreset>
		
		<aiPreset name="BravoLight_1_line_1">
			<node name="skill" idx="97" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_1_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="120" level="1" />
				<node name="skill" idx="105" level="1" />
				<node name="skill" idx="106" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_1_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="144" level="1" />
				<node name="skill" idx="121" level="1" />
				<node name="skill" idx="122" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_2_line_1">
			<node name="skill" idx="98" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_2_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="106" level="1" />
				<node name="skill" idx="107" level="1" />
				<node name="skill" idx="108" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_2_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="123" level="1" />
				<node name="skill" idx="124" level="1" />
				<node name="skill" idx="125" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_3_line_1">
			<node name="skill" idx="99" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_3_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="108" level="1" />
				<node name="skill" idx="109" level="1" />
				<node name="skill" idx="110" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_3_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="126" level="1" />
				<node name="skill" idx="127" level="1" />
				<node name="skill" idx="128" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_4_line_1">
			<node name="skill" idx="100" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_4_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="110" level="1" />
				<node name="skill" idx="111" level="1" />
				<node name="skill" idx="112" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_4_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="129" level="1" />
				<node name="skill" idx="130" level="1" />
				<node name="skill" idx="131" level="1" />
			</node>
		</aiPreset>
		
		<aiPreset name="BravoLight_5_line_1">
			<node name="skill" idx="101" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_5_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="112" level="1" />
				<node name="skill" idx="113" level="1" />
				<node name="skill" idx="114" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_5_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="132" level="1" />
				<node name="skill" idx="133" level="1" />
				<node name="skill" idx="134" level="1" />
			</node>
		</aiPreset>
		
		<aiPreset name="BravoLight_6_line_1">
			<node name="skill" idx="102" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_6_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="114" level="1" />
				<node name="skill" idx="115" level="1" />
				<node name="skill" idx="116" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_6_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="135" level="1" />
				<node name="skill" idx="136" level="1" />
				<node name="skill" idx="137" level="1" />
			</node>
		</aiPreset>
		
		<aiPreset name="BravoLight_7_line_1">
			<node name="skill" idx="103" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_7_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="117" level="1" />
				<node name="skill" idx="118" level="1" />
				<node name="skill" idx="119" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_7_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="138" level="1" />
				<node name="skill" idx="139" level="1" />
				<node name="skill" idx="140" level="1" />
			</node>
		</aiPreset>
		
		<aiPreset name="BravoLight_8_line_1">
			<node name="skill" idx="104" level="1" />
		</aiPreset>
		<aiPreset name="BravoLight_8_line_2">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="119" level="1" />
				<node name="skill" idx="120" level="1" />
				<node name="skill" idx="121" level="1" />
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_8_line_3">
			<node name="select" prob="1,1,1">
				<node name="skill" idx="141" level="1" />
				<node name="skill" idx="142" level="1" />
				<node name="skill" idx="143" level="1" />
			</node>
		</aiPreset>
		
		
		<aiPreset name="BravoLight_1_light_1">
			<node name="skill" idx="89" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_1_line_1"/>
				<aiPreset name="BravoLight_1_line_2"/>
				<aiPreset name="BravoLight_1_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_1_light_2">
			<node name="skill" idx="89" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_1_line_1"/>
					<aiPreset name="BravoLight_1_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_1_line_1"/>
					<aiPreset name="BravoLight_1_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_1_line_2"/>
					<aiPreset name="BravoLight_1_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_1_light_3">
			<node name="skill" idx="89" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_1_line_1"/>
			<aiPreset name="BravoLight_1_line_2"/>
			<aiPreset name="BravoLight_1_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_2_light_1">
			<node name="skill" idx="90" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_2_line_1"/>
				<aiPreset name="BravoLight_2_line_2"/>
				<aiPreset name="BravoLight_2_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_2_light_2">
			<node name="skill" idx="90" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_2_line_1"/>
					<aiPreset name="BravoLight_2_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_2_line_1"/>
					<aiPreset name="BravoLight_2_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_2_line_2"/>
					<aiPreset name="BravoLight_2_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_2_light_3">
			<node name="skill" idx="90" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_2_line_1"/>
			<aiPreset name="BravoLight_2_line_2"/>
			<aiPreset name="BravoLight_2_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_3_light_1">
			<node name="skill" idx="91" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_3_line_1"/>
				<aiPreset name="BravoLight_3_line_2"/>
				<aiPreset name="BravoLight_3_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_3_light_2">
			<node name="skill" idx="91" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_line_1"/>
					<aiPreset name="BravoLight_3_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_line_1"/>
					<aiPreset name="BravoLight_3_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_line_2"/>
					<aiPreset name="BravoLight_3_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_3_light_3">
			<node name="skill" idx="91" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_3_line_1"/>
			<aiPreset name="BravoLight_3_line_2"/>
			<aiPreset name="BravoLight_3_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_4_light_1">
			<node name="skill" idx="92" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_4_line_1"/>
				<aiPreset name="BravoLight_4_line_2"/>
				<aiPreset name="BravoLight_4_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_4_light_2">
			<node name="skill" idx="92" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_4_line_1"/>
					<aiPreset name="BravoLight_4_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_4_line_1"/>
					<aiPreset name="BravoLight_4_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_4_line_2"/>
					<aiPreset name="BravoLight_4_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_4_light_3">
			<node name="skill" idx="92" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_4_line_1"/>
			<aiPreset name="BravoLight_4_line_2"/>
			<aiPreset name="BravoLight_4_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_5_light_1">
			<node name="skill" idx="93" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_5_line_1"/>
				<aiPreset name="BravoLight_5_line_2"/>
				<aiPreset name="BravoLight_5_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_5_light_2">
			<node name="skill" idx="93" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_5_line_1"/>
					<aiPreset name="BravoLight_5_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_5_line_1"/>
					<aiPreset name="BravoLight_5_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_5_line_2"/>
					<aiPreset name="BravoLight_5_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_5_light_3">
			<node name="skill" idx="93" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_5_line_1"/>
			<aiPreset name="BravoLight_5_line_2"/>
			<aiPreset name="BravoLight_5_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_6_light_1">
			<node name="skill" idx="94" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_6_line_1"/>
				<aiPreset name="BravoLight_6_line_2"/>
				<aiPreset name="BravoLight_6_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_6_light_2">
			<node name="skill" idx="94" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_6_line_1"/>
					<aiPreset name="BravoLight_6_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_6_line_1"/>
					<aiPreset name="BravoLight_6_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_6_line_2"/>
					<aiPreset name="BravoLight_6_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_6_light_3">
			<node name="skill" idx="94" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_6_line_1"/>
			<aiPreset name="BravoLight_6_line_2"/>
			<aiPreset name="BravoLight_6_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_7_light_1">
			<node name="skill" idx="95" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_7_line_1"/>
				<aiPreset name="BravoLight_7_line_2"/>
				<aiPreset name="BravoLight_7_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_7_light_2">
			<node name="skill" idx="95" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_7_line_1"/>
					<aiPreset name="BravoLight_7_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_7_line_1"/>
					<aiPreset name="BravoLight_7_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_7_line_2"/>
					<aiPreset name="BravoLight_7_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_7_light_3">
			<node name="skill" idx="95" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_7_line_1"/>
			<aiPreset name="BravoLight_7_line_2"/>
			<aiPreset name="BravoLight_7_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_8_light_1">
			<node name="skill" idx="96" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<aiPreset name="BravoLight_8_line_1"/>
				<aiPreset name="BravoLight_8_line_2"/>
				<aiPreset name="BravoLight_8_line_3"/>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_8_light_2">
			<node name="skill" idx="96" level="1" />	<!-- 방향 스플래시 -->
			<node name="select" prob="1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_8_line_1"/>
					<aiPreset name="BravoLight_8_line_2"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_8_line_1"/>
					<aiPreset name="BravoLight_8_line_3"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_8_line_2"/>
					<aiPreset name="BravoLight_8_line_3"/>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="BravoLight_8_light_3">
			<node name="skill" idx="96" level="1" />	<!-- 방향 스플래시 -->
			<aiPreset name="BravoLight_8_line_1"/>
			<aiPreset name="BravoLight_8_line_2"/>
			<aiPreset name="BravoLight_8_line_3"/>
		</aiPreset>


		<aiPreset name="BravoLight_2">	<!-- 2개 켜기 -->
			<node name="SetValue" key="BravoLight" value="2"/>
			<node name="select" prob="1,1,1,1,1,1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_1_light_1"/>
					<aiPreset name="BravoLight_3_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_light_1"/>
					<aiPreset name="BravoLight_5_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_light_1"/>
					<aiPreset name="BravoLight_7_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_7_light_1"/>
					<aiPreset name="BravoLight_1_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_2_light_1"/>
					<aiPreset name="BravoLight_4_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_4_light_1"/>
					<aiPreset name="BravoLight_6_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_6_light_1"/>
					<aiPreset name="BravoLight_8_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_8_light_1"/>
					<aiPreset name="BravoLight_2_light_1"/>
				</node>
			</node>
		</aiPreset>
		
		<aiPreset name="BravoLight_3">	<!-- 3개 켜기 -->
			<node name="SetValue" key="BravoLight" value="3"/>
			<node name="select" prob="1,1,1,1,1,1,1,1">
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_1_light_1"/>
					<aiPreset name="BravoLight_3_light_1"/>
					<aiPreset name="BravoLight_6_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_2_light_1"/>
					<aiPreset name="BravoLight_4_light_1"/>
					<aiPreset name="BravoLight_7_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_3_light_1"/>
					<aiPreset name="BravoLight_5_light_1"/>
					<aiPreset name="BravoLight_8_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_4_light_1"/>
					<aiPreset name="BravoLight_6_light_1"/>
					<aiPreset name="BravoLight_1_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_5_light_1"/>
					<aiPreset name="BravoLight_7_light_1"/>
					<aiPreset name="BravoLight_2_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_6_light_1"/>
					<aiPreset name="BravoLight_8_light_1"/>
					<aiPreset name="BravoLight_3_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_7_light_1"/>
					<aiPreset name="BravoLight_1_light_1"/>
					<aiPreset name="BravoLight_4_light_1"/>
				</node>
				<node name="standby" limit="10" faceTarget="0">
					<aiPreset name="BravoLight_8_light_1"/>
					<aiPreset name="BravoLight_2_light_1"/>
					<aiPreset name="BravoLight_5_light_1"/>
				</node>
			</node>
		</aiPreset>

		<!-- 브라보 Light -->
		<aiPreset name="BravoLight">
			<node name="conditions">
				<!-- 3페이즈 -->
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="move" destination="600,-825,1501" animation="Run_A" />
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLightMessage" value="1"/>
					<node name="standby" limit="2000" faceTarget="0"/>
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLight" value="1"/>
					<node name="standby" limit="1000" faceTarget="0"/>
					<!-- 이동 후 시전 -->
					<node name="skill" idx="88" facePos="580,-825,1501" />
					<node name="skill" idx="177" facePos="580,-825,1501" />
					<node name="select" prob="1,1">
						<aiPreset name="BravoLight_2"/>
						<aiPreset name="BravoLight_3"/>
					</node>
					<node name="standby" limit="500" faceTarget="0"/>
					<node name="skill" idx="179" level="1" />
					<!-- npc 암전 버프 -->
					<node name="buff" type="add" id="44190012" level="1" />
					<node name="standby" limit="6500" faceTarget="0"/>
				</condition>
				<!-- 4페이즈 -->
				<condition name="true">
					<node name="move" destination="7800,-825,2701" animation="Run_A" />
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLight" value="1"/>
					<node name="standby" limit="1000" faceTarget="0"/>
					<!-- 이동 후 시전 -->
					<node name="skill" idx="88" facePos="7780,-825,2701"/>
					<node name="skill" idx="177" facePos="7780,-825,2701" />
					<node name="select" prob="1,1">
						<aiPreset name="BravoLight_2"/>
						<aiPreset name="BravoLight_3"/>
					</node>
					<node name="standby" limit="500" faceTarget="0"/>
					<node name="skill" idx="179" level="1" />
					<!-- npc 암전 버프 -->
					<node name="buff" type="add" id="44190012" level="1" />
					<node name="standby" limit="6500" faceTarget="0"/>
				</condition>
			</node>
			<!-- 디버프 유저수 체크 및 사망 -->
			<node name="conditions">
				<condition name="extraData" key="BravoLight" value="2" >
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLight_CheckCount_2" value="1"/>
				</condition>
				<condition name="extraData" key="BravoLight" value="3" >
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLight_CheckCount_3" value="1"/>
				</condition>
				<condition name="extraData" key="BravoLight" value="4" >
					<node name="TriggerSetUserValue" triggerID="99999998" key="BravoLight_CheckCount_4" value="1"/>
				</condition>
			</node>
			
		</aiPreset>
		
		<!-- Rush -->
		<aiPreset name="Rush">
			<node name="skill" idx="182" level="1" faceTarget="3" />
			<node name="skill" idx="182" level="1" faceTarget="3" />
			<node name="conditions">
				<condition name="DistanceLess" value="300">
					<node name="skill" idx="183" level="1" />
					<node name="skill" idx="184" level="1" faceTarget="3" />
				</condition>
				<condition name="DistanceLess" value="600">
					<node name="skill" idx="185" level="1" />
					<node name="skill" idx="186" level="1" faceTarget="3" />
				</condition>
				<condition name="DistanceLess" value="900">
					<node name="skill" idx="187" level="1" />
					<node name="skill" idx="188" level="1" faceTarget="3" />
				</condition>
				<condition name="DistanceLess" value="1200">
					<node name="skill" idx="189" level="1" />
					<node name="skill" idx="190" level="1" faceTarget="3" />
				</condition>
				<condition name="DistanceLess" value="1500">
					<node name="skill" idx="191" level="1" />
					<node name="skill" idx="192" level="1" faceTarget="3" />
				</condition>
				<condition name="DistanceLess" value="1800">
					<node name="skill" idx="193" level="1" />
					<node name="skill" idx="194" level="1" faceTarget="3" />
				</condition>
				<condition name="true">
					<node name="skill" idx="195" level="1" />
					<node name="skill" idx="196" level="1" faceTarget="3" />
				</condition>
			</node>
		</aiPreset>
		
		<!-- Blink -->
		<aiPreset name="Blink">
			<node name="skill" idx="197" level="1" faceTarget="0" />
			<node name="buff" type="add" id="44190007" level="1" />
			<node name="select" prob="1,1,1">
				<node name="standby" limit="200" faceTarget="0"/>
				<node name="standby" limit="600" faceTarget="0"/>
				<node name="standby" limit="1000" faceTarget="0"/>
			</node>
			<node name="select" prob="1,1">
				<node name="target" type="mid" from="5" to="5000" />
				<node name="target" type="far" from="5" to="5000" />
			</node>
			<node name="select" prob="1,1,1,1">
				<node name="trace" limit="1500" till="50" speed="2000" />
				<node name="trace" limit="1500" till="100" speed="2000" />
				<node name="trace" limit="1500" till="150" speed="2000" />
				<node name="trace" limit="1500" till="200" speed="2000" />
			</node>
			<node name="conditions">
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="198" level="1" faceTarget="1" />
					<node name="standby" limit="1500" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="199" level="1" faceTarget="0" />
				</condition>
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="200" level="1" faceTarget="1" />
					<node name="standby" limit="1300" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="201" level="1" faceTarget="0" />
				</condition>
				<condition name="true">
					<node name="skill" idx="202" level="1" faceTarget="1" />
					<node name="standby" limit="900" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="203" level="1" faceTarget="0" />
				</condition>
			</node>
		</aiPreset>
		
		<!-- WalkRandom -->
		<aiPreset name="WalkRandom">
			<node name="conditions">
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="select" prob="1,1,1,1,1,1">
						<node name="move" destination="858,-201,1503" animation="Run_A" />
						<node name="move" destination="1224,-567,1503" animation="Run_A" />
						<node name="move" destination="1224,-1083,1503" animation="Run_A" />
						<node name="move" destination="858,-1449,1503" animation="Run_A" />
						<node name="move" destination="342,-1449,1503" animation="Run_A" />
						<node name="move" destination="342,-201,1503" animation="Run_A" />
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="1,1,1,1,1,1">
						<node name="move" destination="8134,6,2703" animation="Run_A" />
						<node name="move" destination="8621,-481,2703" animation="Run_A" />
						<node name="move" destination="8621,-1169,2703" animation="Run_A" />
						<node name="move" destination="8134,-1656,2703" animation="Run_A" />
						<node name="move" destination="7446,-1656,2703" animation="Run_A" />
						<node name="move" destination="7446,6,2703" animation="Run_A" />
					</node>
				</condition>
			</node>
			<node name="conditions">
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="198" level="1" faceTarget="1" />
					<node name="standby" limit="1500" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="199" level="1" faceTarget="0" />
				</condition>
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="200" level="1" faceTarget="1" />
					<node name="standby" limit="1300" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="201" level="1" faceTarget="0" />
				</condition>
				<condition name="true">
					<node name="skill" idx="202" level="1" faceTarget="1" />
					<node name="standby" limit="900" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="203" level="1" faceTarget="0" />
				</condition>
			</node>
		</aiPreset>
		
		<!-- BlinkRandom -->
		<aiPreset name="BlinkRandom">
			<!--
			<node name="conditions">
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="225" faceTarget="0" />
				</condition>
				<condition name="extraData" key="phase" value="4" op="lessEqual">
					<node name="skill" idx="226" faceTarget="0" />
				</condition>
			</node>
			-->
			<node name="skill" idx="197" level="1" faceTarget="0" />
			<node name="buff" type="add" id="44190007" level="1" />
			<node name="select" prob="1,1,1">
				<node name="standby" limit="200" faceTarget="0"/>
				<node name="standby" limit="600" faceTarget="0"/>
				<node name="standby" limit="1000" faceTarget="0"/>
			</node>
			<node name="conditions">
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="select" prob="1,1,1,1,1,1">
						<node name="teleport" pos="858,-201,1503" />
						<node name="teleport" pos="1224,-567,1503" />
						<node name="teleport" pos="1224,-1083,1503" />
						<node name="teleport" pos="858,-1449,1503" />
						<node name="teleport" pos="342,-1449,1503" />
						<node name="teleport" pos="342,-201,1503" />
						<!--
						<node name="move" destination="858,-201,1503" animation="Run_A" />
						<node name="move" destination="1224,-567,1503" animation="Run_A" />
						<node name="move" destination="1224,-1083,1503" animation="Run_A" />
						<node name="move" destination="858,-1449,1503" animation="Run_A" />
						<node name="move" destination="342,-1449,1503" animation="Run_A" />
						<node name="move" destination="342,-201,1503" animation="Run_A" />
						-->
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="1,1,1,1,1,1">
						<node name="teleport" pos="8134,6,2703" />
						<node name="teleport" pos="8621,-481,2703" />
						<node name="teleport" pos="8621,-1169,2703" />
						<node name="teleport" pos="8134,-1656,2703" />
						<node name="teleport" pos="7446,-1656,2703" />
						<node name="teleport" pos="7446,6,2703" />
						<!--
						<node name="move" destination="8134,6,2703" animation="Run_A" />
						<node name="move" destination="8621,-481,2703" animation="Run_A" />
						<node name="move" destination="8621,-1169,2703" animation="Run_A" />
						<node name="move" destination="8134,-1656,2703" animation="Run_A" />
						<node name="move" destination="7446,-1656,2703" animation="Run_A" />
						<node name="move" destination="7446,6,2703" animation="Run_A" />
						-->
					</node>
				</condition>
			</node>
			<node name="conditions">
				<condition name="extraData" key="phase" value="2" op="lessEqual">
					<node name="skill" idx="198" level="1" faceTarget="1" />
					<node name="standby" limit="1500" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="199" level="1" faceTarget="0" />
				</condition>
				<condition name="extraData" key="phase" value="3" op="lessEqual">
					<node name="skill" idx="200" level="1" faceTarget="1" />
					<node name="standby" limit="1300" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="201" level="1" faceTarget="0" />
				</condition>
				<condition name="true">
					<node name="skill" idx="202" level="1" faceTarget="1" />
					<node name="standby" limit="900" faceTarget="0"/>
					<node name="buff" type="remove" id="44190007" level="1" />
					<node name="skill" idx="203" level="1" faceTarget="0" />
				</condition>
			</node>
		</aiPreset>
	</aiPresets>
</npcAi>