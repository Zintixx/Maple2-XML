<?xml version="1.0" encoding="utf-8"?>
<npcAi>
	<reserved>
		<condition name="hpLess" value="100">
			<!--100%~80%-->
			<node name="standby" limit="100" faceTarget="1" isKeepBattle="true">
				<node name="SetValue" key="PhasePatternTrigger" value="1" />
				<!-- 이 변수는 몬스터의 페이즈를 결정하는 것으로  PhasePatternTrigger.xml  트리거에 의해  이 숫자가 1씩 늘어나게 설정하였음 -->
				<!-- 이 보스의 행동 패턴은 HP에 의해 작접적으로 결정 되는 것이 아니라 PhasePatternTrigger.xml  트리거에 의해 결정되는 구조임-->
				<node name="SetValue" key="SkillBreak_StartOk" value="0" />
				<!-- 이 변수를 1로 만들고 2로 만들어서 최종 스킬브레이크 사용하도록 함 -->
				<node name="SetValue" key="SkillBreak_JustBefore_FromIshura" value="0" />
				<!--  이슈라 AI에서 부터 이 변수 SkillBreak_StartOk_FromIshura =  1신호를 받으면 스킬브레이크 공격 패턴 하도록 설정함, 이 설정이 필요한 이유는 졸병 소환몹을 다 제거한 다음에 스킬브레이크 공격패턴 돌입해야 전투가 쾌적하기 때문에 필요한 기능임-->
				<node name="SetValue" key="SkillBreakEnd" value="0" />
				<!-- 이 변수가 1 이되면 스킬 브레이크 끝나고 평소 공격 상태로 돌아가게 되었음을 알게 하는데 사용함 -->
				<node name="SetValue" key="SkillBreakRangeOn" value="0" />
				<!--  스킬 브레이크 공격 시작하기 전에 같은 전투판에 12초 넘도록 없으면 원거리 기절 스킬 사용하도록 하기 위해 사용하는 변수-->
				<node name="SetValue" key="WhereBattleZone" value="1" />
				<!--  현재 자신이 1셋트 전투판에 있는지 2셋트 전투판에 있는지 알게 하기 위한 변수, 1셋트 전투판에 시작하니 1로 초기값 설정-->
				<!-- 유페리아는 2셋트 전투판에서 순간이동이 주력 행동인데, 그때 자주 이동하는 2개 변수임-->
				<node name="SetValue" key="TeleportActionOk" value="6" />
				<!--3 페이즈 시작하면 바로 텔레포트 해야해하는데 이 변수 6이면 텔레포트 하기 때문에 초기값 6으로 설정함, 이 변수가 일정 이상의 수가 되면 텔레포트 하도록 설정하는데 이용됨-->
				<node name="SetValue" key="TeleportPosCheck" value="0" />
				<!--  최근 텔레포트가 몇시 방향으로 순간이동했었는제를 체크하기 위한 변수-->
				<node name="buff" type="add" id="50001090" />
				<!--#3, 4페이즈 때 유페리아한테 힐 계속 받아도 HP 50%를 넘어가면 회복 되지 않도록 힐 면역 에디셔녈을 사전에 미리 부여함, 이 애디셔널은 HP 50% 이하로 내려가면 작동 안하도록 되어있음-->
				<node name="buff" type="add" id="50001091" />
				<!--#5페이즈 때 유페리아한테 힐 계속 받아도 HP 20%를 넘어가면 회복 되지 않도록 힐 면역 에디셔녈을 사전에 미리 부여함, 이 애디셔널은 HP 20% 이하로 내려가면 작동 안하도록 되어있음-->
			</node>
		</condition>
		<condition name="hpLess" value="80">
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="75">
			<!-- 75% 이하인 이유: 3마리 보스 전부 HP 80% 이하가 되면 스킬 브레이크 사용해야 하는데, 한마리만 유독 80% 이하가 안될 경우가 종종 있을 수 있어, 이때 한마리가 대신 5% 더 깎이면 바로 스킬브레이크 발동 되도록 하기 위해서, 75% 설정한 것임-->
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="50">
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="45">
			<!-- 45% 이하인 이유: 3마리 보스 전부 HP 50% 이하가 되면 스킬 브레이크 사용해야 하는데, 한마리만 유독 50% 이하가 안될 경우가 종종 있을 수 있어, 이때 한마리가 대신 5% 더 깎이면 바로 스킬브레이크 발동 되도록 하기 위해서, 45% 설정한 것임-->
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="35">
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="20">
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
		<condition name="hpLess" value="15">
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="1" />
			<!-- MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 1 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 시기를 결정하게 함-->
		</condition>
	</reserved>
	<!--전투-->
	<battle>
		<node name="select" prob="9999,0">
			<node name="SetValue" cooltime="9000" key="Temp01" value="0">
				<!--동작이 없는 의미없는 설정임, 단순 구분을 위한 설정임, 스킬브레이크 행동 패턴 때 이 타겟팅 로직에 걸릴 경우 동작이 튀는 것을 막기 위해 이렇게 설정했음-->
				<node name="conditions">
					<condition name="extraData" key="PhasePatternTrigger" value="2" op="lessEqual">
						<node name="select" prob="34,33,33">
							<!--1~2페이즈에서는 1셋트 전투판 기준으로 타겟팅 함 -->
							<node name="target" type="near" center="-4275, -2625, 3310" />
							<!--정 가운데 -->
							<node name="target" type="near" center="-4425, -2250, 3310" />
							<!--왼쪽 지점 -->
							<node name="target" type="near" center="-4050, -3075, 3310" />
							<!--오른쪽 지점 -->
						</node>
					</condition>
					<condition name="true">
						<!-- 유페리아는 2셋트 전투판에서 제일 가까이 붙는 대상 우선 타겟팅 요소가 있어서, 맵 좌표 기준 타겟팅 사용하지 않음  -->
						<node name="conditions">
							<condition name="skillRange" skillIdx="6">
								<!-- 레벨31: 타겟팅 대상이 450 이내에 있으면 제일 가까운 대상 타겟팅함, 2셋트 전투판에서는 유페리아에게 가까이 붙으면서 견제해야 하는 요소가 있어서 타겟팅에 if 조건 설정을 넣음  -->
								<node name="target" type="near" from="10" to="2500" />
							</condition>
							<condition name="true">
								<node name="select" prob="25,25,25,25">
									<!--3~4페이즈에서는 2셋트 전투판 기준으로 타겟팅 함 -->
									<node name="target" type="near" center="4200, 4200, 5860" />
									<!--12시 부근 -->
									<node name="target" type="near" center="4200, 3750, 5860" />
									<!--3시 부근 -->
									<node name="target" type="near" center="3750, 3750, 5860" />
									<!--6시 부근 -->
									<node name="target" type="near" center="3750, 4200, 5860" />
									<!--9시 부근 -->
								</node>
							</condition>
						</node>
					</condition>
				</node>
			</node>
			<!-- #&# 2~3페이지에서  SkillBreak_StartOk = 1 가 되면, 이 단계로 넘어와서,  이슈라 AI에게 SkillBreak_JustBefore_FromIshura = 1  신호 받을 때까지 간단 공격 행동 하면서 대기 개념 상태로 있음 -->
			<node name="conditions">
				<condition name="extraData" key="SkillBreak_StartOk" value="1">
					<node name="conditions">
						<condition name="extraData" key="SkillBreak_JustBefore_FromIshura" value="0">
							<aiPreset name="JustBefore_AttackPattern" />
							<!--스킬브레이크 발동 직전 단계에서 이슈라AI에서 SkillBreak_StartOk_FromIshura =  1 변수 신호 받을 때까지 이 공격 행위를 반복함 , 이곳에 HP 50%이하가 되면 단상 위로 도망가는 설정이 있음-->
						</condition>
						<condition name="true">
							<!--  SkillBreak_JustBefore_FromIshura = 1 인 경우임, SkillBreak_JustBefore_FromIshura 변수는 이슈라AI에게 신호 받아서 1이 됨, 이슈라AI에게 신호 받아서 스킬 브레이크 발동하게 하는 이유는 졸몹 다수가 있는 상태에서 스킬 브레이크 하면 상당히 난잡해 지기 때문에, 깔끔하게 이슈라가 졸몹 제거하고 이후 신호 보내서 진행하는 방식으로 하였음 -->
							<node name="SetValue" isKeepBattle="true" key="SkillBreakEnd" value="0">
								<!-- 이 변수 중요하니 혹시 모르니 이 페이즈 시작할 때 항상 0 초기화 하자 -->
								<node name="TriggerSetUserValue" triggerID="996" key="WarningMessage" value="1" />
								<!-- 스킬브레이크 사용한다는 메시지를 출력함, 트리거 SkillBreakWarningMessage.xml 에게 신호보냄, MS2TriggerModel  ID : 996    -->
								<node name="standby" limit="500" faceTarget="0" />
								<node name="skill" facePos="-4275, -2625, 3310" idx="19" />
								<!-- 점프 도약동작-->
								<node name="jump" pos="-4275, -2625, 3310" speed="800" heightMultiplier="0.4" />
								<!-- 점프중-->
								<node name="skill" faceTarget="0" idx="20" />
								<!-- 점프착지-->
								<node name="SetValue" key="SkillBreak_JustBefore_FromIshura" value="0" />
								<!--다음 사용을 위해 이 변수 0 초기화 하기 -->
								<node name="SetValue" key="SkillBreak_StartOk" value="2" />
								<!-- 이 변수를 2로 만들어서 최종 스킬브레이크 사용하도록 함 -->
								<node name="standby" limit="900" faceTarget="1" />
							</node>
						</condition>
					</node>
				</condition>
				<!-- #&# 위의 <if extraKey="SkillBreak_StartOk" equal="1"> 단계에서  SkillBreak_StartOk = 2 가 되면, 이 단계로 넘어와서 드디어 스킬브레이크 패턴 본격 시작하도록 함 -->
				<condition name="extraData" key="SkillBreak_StartOk" value="2">
					<aiPreset name="SkillBreak_AttackPattern" />
					<!--스킬 브레이크 패턴, 이슈라의 스킬 브레이크 막기 성공해서 대미지 동작이 나오면   변수 SkillBreak_StartOk = 0 셋팅하게 됨-->
				</condition>
				<condition name="extraData" key="PhasePatternTrigger" value="1">
					<!-- 1페이즈 때의 공격 형태, 이 변수 PhasePatternTrigger.xml  트리거에 의해 결정됨 -->
					<aiPreset name="1Phase_AttackPattern" />
					<!--1페이즈 전투 형태, 이곳에 HP 50%이하가 되면 단상 위로 도망가는 설정이 있음-->
				</condition>
				<condition name="extraData" key="PhasePatternTrigger" value="2">
					<node name="select" prob="999999,0">
						<!-- 2페이즈 때의 공격 형태 -->
						<!-- #&# 2페이즈 넘어오면 스킬 브레이크 행동 패턴을 하기위해, 바로 SkillBreak_StartOk = 1 셋팅하여, 위쪽 <if extraKey="SkillBreak_StartOk" equal="1">  단계로 넘어감 -->
						<node name="SetValue" cooltime="9999999" key="SkillBreak_StartOk" value="1" />
						<!-- 스킬 브레이크 사용 준비가 다 되었음을 알림 -->
						<node name="conditions">
							<condition name="extraData" key="SkillBreakEnd" value="1">
								<!--스킬브레이크 패턴이 끝나면 이 단계로 넘어와 평상시 공격 상태가 되도록 하기-->
								<aiPreset name="1Phase_AttackPattern" />
								<!--1페이즈 전투 형태, 이곳에 HP 50%이하가 되면 단상 위로 도망가는 설정이 있음-->
							</condition>
							<condition name="true">
								<!--이론적으로 이 단계 올일 없는데, 이 페이즈로 최초로 왔을 때 혹시 위 점프 이동이 바로 실행이 안되면 여기부터 실행될 것임-->
								<node name="standby" limit="200" faceTarget="1" />
							</condition>
						</node>
					</node>
				</condition>
				<condition name="extraData" key="PhasePatternTrigger" value="3">
					<node name="select" prob="999999,0">
						<!-- 3페이즈 때의 공격 형태 -->
						<!-- #&# 3페이즈 넘어오면 스킬 브레이크 행동 패턴을 하기위해, 바로 SkillBreak_StartOk = 1 셋팅하여, 위쪽 <if extraKey="SkillBreak_StartOk" equal="1">  단계로 넘어감 -->
						<node name="SetValue" cooltime="9999999" key="SkillBreak_StartOk" value="1" />
						<!-- 스킬 브레이크 사용 준비가 다 되었음을 알림 -->
						<node name="conditions">
							<condition name="extraData" key="SkillBreakEnd" value="1">
								<node name="select" prob="99999,0">
									<!--스킬 브레이크 끝났으면, 두번째 전투판으로 순간이동 하고, 두번째 전투판으로 갈 수 있는 다리 생성하기-->
									<!--스킬브레이크 끝났으면, 두번째 전투판으로 이동하는 다리를 생성하는 트리거 신호 보내고, 도발 대사 동작을 취한 다음에 순간이동으로 두번째 전투판으로 이동함-->
									<node name="standby" limit="200" faceTarget="1" cooltime="9999999" isKeepBattle="true">
										<node name="target" type="near" from="10" to="2800" />
										<node name="TriggerModifyUserValue" triggerID="995" key="YuperiaFirstSetEnd" value="1" />
										<!-- 유페리아 전용 디버프 걸기 끄기, MS2TriggerModel  ID : 995   YuperiaFirstSetEnd = 1 신호를   Debuff_IshuraRenduebianYuperia.xml 트리거에 보내서 전투판에 설치된 유페리아 전용 디버프 거는 스킬 Off 상태로 만들기-->
										<node name="say" message="$YuperiaRbladerDark_FinalChaos_EventLeave01$" durationTick="8000" />
										<node name="skill" faceTarget="1" idx="6" />
										<!-- 대사 연출 나오는 동작 -->
										<node name="skill" faceTarget="0" idx="7" />
										<!--  순간이동-->
										<node name="teleport" pos="3375, 4575, 5860" />
										<!--이슈라 랜듀비앙 유페리아 3명 두번째 전투판으로 이동하면 Bridge.xml 트리거에 BridgeAppear = +1 신호를 보내서 이 변수가 3이되면 다리 생성시키게 하기 -->
										<node name="TriggerModifyUserValue" triggerID="991" key="BridgeAppear" value="1" />
										<!-- MS2TriggerModel  ID : 991   BridgeAppear = +1 신호를   Bridge.xml 트리거에 보내서 두번째 전투판으로 이동하는 다리를 생성 준비 작업 하기-->
										<node name="standby" limit="200" faceTarget="1" />
										<node name="SetValue" key="WhereBattleZone" value="2" />
										<!--  2셋트 전투판으로 이동했으니 이 변수 2 설정해서 자신이 2셋트 전투판에 있다는 것을 알게 함-->
										<node name="standby" limit="500" faceTarget="1" />
									</node>
									<aiPreset name="3Phase_AttackPattern" />
									<!--3페이즈 전투 패턴, 즉 3페이지에서의 주력 행동임-->
								</node>
							</condition>
							<condition name="true">
								<!--이론적으로 이 단계 올일 없는데, 이 페이즈로 최초로 왔을 때 혹시 위 점프 이동이 바로 실행이 안되면 여기부터 실행될 것임-->
								<node name="standby" limit="200" faceTarget="1" />
							</condition>
						</node>
					</node>
				</condition>
				<condition name="extraData" key="PhasePatternTrigger" value="4">
					<node name="select" prob="99999,0">
						<!-- 4페이즈 때의 공격 형태 -->
						<node name="standby" limit="200" faceTarget="1" cooltime="9999999">
							<node name="conditions">
								<condition name="extraData" key="WhereBattleZone" value="2">
									<!-- 이미 두번째 전투판으로 이동한 상태라서 특별한 행동 안함 -->
									<node name="standby" limit="200" faceTarget="1" />
								</condition>
								<condition name="true">
									<!-- WhereBattleZone = 1 인 경우로 두번쨰 전투판 이동 행동 하도록 함 -->
									<node name="standby" limit="200" faceTarget="1" isKeepBattle="true">
										<node name="target" type="near" from="10" to="2800" />
										<node name="TriggerModifyUserValue" triggerID="995" key="YuperiaFirstSetEnd" value="1" />
										<!-- 유페리아 전용 디버프 걸기 끄기, MS2TriggerModel  ID : 995   YuperiaFirstSetEnd = 1 신호를   Debuff_IshuraRenduebianYuperia.xml 트리거에 보내서 전투판에 설치된 유페리아 전용 디버프 거는 스킬 Off 상태로 만들기-->
										<node name="say" message="$YuperiaRbladerDark_FinalChaos_EventLeave01$" durationTick="8000" />
										<node name="skill" faceTarget="1" idx="6" />
										<!-- 대사 연출 나오는 동작 -->
										<node name="skill" faceTarget="0" idx="7" />
										<!--  순간이동-->
										<node name="teleport" pos="3375, 4575, 5860" />
										<!--이슈라 랜듀비앙 유페리아 3명 두번째 전투판으로 이동하면 Bridge.xml 트리거에 BridgeAppear = +1 신호를 보내서 이 변수가 3이되면 다리 생성시키게 하기 -->
										<node name="TriggerModifyUserValue" triggerID="991" key="BridgeAppear" value="1" />
										<!-- MS2TriggerModel  ID : 991   BridgeAppear = +1 신호를   Bridge.xml 트리거에 보내서 두번째 전투판으로 이동하는 다리를 생성 준비 작업 하기-->
										<node name="standby" limit="200" faceTarget="1" />
										<node name="SetValue" key="WhereBattleZone" value="2" />
										<!--  2셋트 전투판으로 이동했으니 이 변수 2 설정해서 자신이 2셋트 전투판에 있다는 것을 알게 함-->
										<node name="standby" limit="500" faceTarget="1" />
									</node>
								</condition>
							</node>
						</node>
						<aiPreset name="3Phase_AttackPattern" />
						<!--3페이즈 전투 패턴-->
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="99999,0">
						<!-- PhasePatternTrigger = 5, 즉 5페이즈 때의 공격 형태 -->
						<node name="standby" limit="200" faceTarget="1" cooltime="9999999">
							<node name="conditions">
								<condition name="extraData" key="WhereBattleZone" value="2">
									<!-- 이미 두번째 전투판으로 이동한 상태라서 특별한 행동 안함 -->
									<node name="standby" limit="200" faceTarget="1" />
								</condition>
								<condition name="true">
									<!-- WhereBattleZone = 1 인 경우로 두번쨰 전투판 이동 행동 하도록 함 -->
									<node name="standby" limit="200" faceTarget="1" isKeepBattle="true">
										<node name="target" type="near" from="10" to="2800" />
										<node name="TriggerModifyUserValue" triggerID="995" key="YuperiaFirstSetEnd" value="1" />
										<!-- 유페리아 전용 디버프 걸기 끄기, MS2TriggerModel  ID : 995   YuperiaFirstSetEnd = 1 신호를   Debuff_IshuraRenduebianYuperia.xml 트리거에 보내서 전투판에 설치된 유페리아 전용 디버프 거는 스킬 Off 상태로 만들기-->
										<node name="say" message="$YuperiaRbladerDark_FinalChaos_EventLeave01$" durationTick="8000" />
										<node name="skill" faceTarget="1" idx="6" />
										<!-- 대사 연출 나오는 동작 -->
										<node name="skill" faceTarget="0" idx="7" />
										<!--  순간이동-->
										<node name="teleport" pos="3375, 4575, 5860" />
										<!--이슈라 랜듀비앙 유페리아 3명 두번째 전투판으로 이동하면 Bridge.xml 트리거에 BridgeAppear = +1 신호를 보내서 이 변수가 3이되면 다리 생성시키게 하기 -->
										<node name="TriggerModifyUserValue" triggerID="991" key="BridgeAppear" value="1" />
										<!-- MS2TriggerModel  ID : 991   BridgeAppear = +1 신호를   Bridge.xml 트리거에 보내서 두번째 전투판으로 이동하는 다리를 생성 준비 작업 하기-->
										<node name="standby" limit="200" faceTarget="1" />
										<node name="SetValue" key="WhereBattleZone" value="2" />
										<!--  2셋트 전투판으로 이동했으니 이 변수 2 설정해서 자신이 2셋트 전투판에 있다는 것을 알게 함-->
										<node name="standby" limit="500" faceTarget="1" />
									</node>
								</condition>
							</node>
						</node>
						<aiPreset name="FinalPhase_AttackPattern" />
						<!--최종 페이즈 전투 패턴-->
					</node>
				</condition>
			</node>
		</node>
	</battle>
	<battleEnd onlyDead="true">
		<node name="TriggerSetUserValue" isKeepBattle="true" triggerID="994" key="FirstBattleEnd" value="1">
			<!--첫번째 전투판에서 부여하는 폭발 저주 디버프 제거해주기, 3명 보스 중 한마리라도 죽으면 거의 1 2 페이즈의 전투 끝나 바로 스킬브레이크 진행 끝나기 때문에 폭발 저주 디버프 제거하는 처리를 해야함 994 : SkillDebuff_2Phase.xml 이거 사용함 -->
			<node name="TriggerModifyUserValue" triggerID="993" key="PhaseSumTotal" value="3" />
			<!-- 죽으면 MS2TriggerModel  ID : 993   PhaseSumTotal = PhaseSumTotal + 3 신호를   PhasePatternTrigger.xml 트리거에 보내서 각 3마리 보스의 패턴전환 우뮤를 경정하게 함, 즉 죽어서 +3 해서 다른 보스들이 빨리 패턴 변화이 되도록 함-->
			<node name="TriggerModifyUserValue" triggerID="995" key="YuperiaFirstSetEnd" value="1" />
			<!-- 혹시 1셋트 전투판에서 죽을 수 있어서 이 설정 한번 더 넣음, 유페리아 전용 디버프 걸기 끄기, MS2TriggerModel  ID : 995   YuperiaFirstSetEnd = 1 신호를   Debuff_IshuraRenduebianYuperia.xml 트리거에 보내서 전투판에 설치된 유페리아 전용 디버프 거는 스킬 Off 상태로 만들기-->
			<node name="TriggerModifyUserValue" triggerID="991" key="BridgeAppear" value="1" />
			<!--    유페리아가 3페이지 이전에 빨리 죽으면, 두번째 전투판으로 이동하는 다리 생성 +1 신호를 못보내어 대박 버그 생길수 있기 때문에 죽을 때 의무적으로 이 신호 보냄    MS2TriggerModel  ID : 991   BridgeAppear = +1 신호를   Bridge.xml 트리거에 보내서 두번째 전투판으로 이동하는 다리를 생성 준비 작업 하기-->
			<node name="TriggerSetUserValue" triggerID="996" key="DeathYuperiaRbladerDark" value="1" />
			<!-- 유페리아가 죽었으면 트리거를 통해서 죽었음을 알리는 메시지를 보여주기    -->
		</node>
	</battleEnd>
	<aiPresets>
		<aiPreset name="1Phase_AttackPattern">
			<!--1페이즈 전투 패턴-->
			<node name="conditions">
				<condition name="hpOver" value="49">
					<!--49% 이상일 때 평범한 공격 행동 하기-->
					<node name="conditions">
						<condition name="skillRange" skillIdx="9">
							<node name="select" prob="99,50,50">
								<!-- 평타공격 2타 거리에 있으면 아래 스킬들을 사용, 레벨2이 거리체크 240-->
								<node name="skill" cooltime="15000" initialCooltime="10000" idx="21">
									<!--채찍공격-->
									<node name="skill" faceTarget="0" idx="25">
										<!--채찍 마무리 동작-->
										<node name="standby" limit="2800" faceTarget="1" />
									</node>
								</node>
								<node name="skill" idx="9">
									<!-- 평타공격 2타 -->
									<node name="standby" limit="2900" faceTarget="1" />
								</node>
								<node name="skill" idx="10">
									<!-- 찌르기-->
									<node name="skill" faceTarget="0" idx="11">
										<node name="select" prob="60,40">
											<!-- 1타 찌르고 빠지기 사용-->
											<node name="move" destination="-4275, -2625, 3310" limit="2400" cooltime="21000">
												<node name="standby" limit="2800" faceTarget="1" />
											</node>
											<node name="standby" limit="2900" faceTarget="1" />
											<!-- 0.7초간 대기-->
										</node>
									</node>
								</node>
							</node>
						</condition>
						<condition name="skillRange" skillIdx="1">
							<node name="select" prob="99,49,49,1,1">
								<!-- 레벨5: 10인 최종 던전 1셋트 전투판 크기에 맞는 정밀한 거리체크 용도, 이거 이슈라용 데이터 인데 그냥 공용으로 사용 -->
								<node name="skill" cooltime="15000" initialCooltime="14000" idx="21">
									<!-- 채찍공격 -->
									<node name="skill" faceTarget="0" idx="25">
										<!--채찍 마무리 동작-->
										<node name="standby" limit="2900" faceTarget="1" />
									</node>
								</node>
								<node name="trace" limit="2100" cooltime="14000" skillIdx="9" />
								<!-- 평타공격 거리로-->
								<node name="trace" limit="2100" cooltime="14000" skillIdx="12">
									<!-- 추적 스킬 거리로 -->
									<node name="skill" idx="12">
										<node name="select" prob="50,50">
											<!-- 추적 찌르기 스킬 사용-->
											<node name="skill" faceTarget="1" idx="9">
												<!-- 평타공격 2타 사용-->
												<node name="standby" limit="2900" faceTarget="1" />
											</node>
											<node name="standby" limit="2700" faceTarget="1" />
										</node>
									</node>
								</node>
								<node name="skill" cooltime="7000" idx="21">
									<!-- 채찍공격 -->
									<node name="skill" faceTarget="0" idx="25">
										<!--채찍 마무리 동작-->
										<node name="standby" limit="2800" faceTarget="1" />
									</node>
								</node>
								<node name="move" destination="-4275, -2625, 3310" limit="2400" />
							</node>
						</condition>
						<condition name="true">
							<node name="select" prob="99999,799,0">
								<node name="standby" limit="1200" faceTarget="1" cooltime="4000">
									<node name="target" type="near" from="10" to="2300" />
								</node>
								<node name="move" destination="-4275, -2625, 3310" limit="5000" cooltime="6000">
									<!--맵 정 중앙으로 이동함  -->
									<node name="standby" limit="1800" faceTarget="1">
										<node name="target" type="near" from="10" to="2300" />
									</node>
								</node>
								<node name="conditions">
									<condition name="skillRange" skillIdx="5">
										<node name="select" prob="99,1">
											<!--3개 전 전투판 거리체크 용도, 스타팅 포인트에 있는 플레이어는 포함 시키지 않음  -->
											<!--  initialCooltime을 안넣으면 전투 시작하자마자 의도치 않게 이 공격 당해버리는 상황이 생길거 같아서 안전하에 initialCooltime 넣음-->
											<node name="skill" initialCooltime="21000" idx="5">
												<!--같은 전투판에 단 한명의 플레이어도 없으면 초강력 스킬로 건너편 플레이어 무리 초강력 스턴 원거리 스킬로 공격함  -->
												<node name="standby" limit="3100" faceTarget="1">
													<node name="target" type="near" from="10" to="2300" />
												</node>
											</node>
											<node name="standby" limit="800" faceTarget="1">
												<node name="target" type="near" from="10" to="2300" />
											</node>
										</node>
									</condition>
									<condition name="true">
										<node name="standby" limit="1200" faceTarget="1">
											<node name="target" type="near" from="10" to="2300" />
										</node>
									</condition>
								</node>
							</node>
						</condition>
					</node>
				</condition>
				<condition name="true">
					<node name="select" prob="9999,1">
						<!--49% 이하면 구석으로 도망가 있기, 파티원이 특정 하나의 보스에게 몰려서 몰빵 공격 하는 어뷰징 상황을 막기위한 설정임-->
						<node name="skill" facePos="-4275, -1725, 3610" cooltime="9999999" isKeepBattle="true" idx="2">
							<!-- 플레이어가 공격하지 못하는 장소로 점프 도망가기-->
							<node name="jump" pos="-4275, -1725, 3610" speed="800" heightMultiplier="0.4" />
							<!-- 점프중-->
							<node name="skill" faceTarget="0" idx="3" />
							<!-- 점프착지-->
						</node>
						<node name="standby" limit="1000" facePos="-4275, -2625, 3310" animation="Stun_B" />
						<!--중요: 이때 플레이어가 몬스터를 절대 때리지 못하도록 해야 함 그래서 animation="Stun_B"  설정 중요  구석으로 도망가 있는 상태에서는 플레이어가 때리지 못하는  standby 상태가 되돌고 함 -->
						<!-- 바라보는 방향은 유페리아 전투판 정 중앙을 향하도록-->
					</node>
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="JustBefore_AttackPattern">
			<!--스킬브레이크 발동 직전 단계에서 이슈라AI에서 SkillBreak_StartOk_FromIshura =  1 변수 신호 받을 때까지 이 공격 행위를 반복함  -->
			<node name="conditions">
				<condition name="hpOver" value="49">
					<!--49% 이상일 때 평범한 공격 행동 하기-->
					<node name="conditions">
						<condition name="skillRange" skillIdx="9">
							<node name="select" prob="34,33,33">
								<!-- 평타공격 2타 거리에 있으면 아래 스킬들을 사용, 레벨2이 거리체크 240-->
								<node name="skill" idx="21">
									<!--채찍공격-->
									<node name="skill" faceTarget="0" idx="25">
										<!--채찍 마무리 동작-->
										<node name="standby" limit="2500" faceTarget="1" />
									</node>
								</node>
								<node name="skill" idx="9">
									<!-- 평타공격 2타 -->
									<node name="standby" limit="2300" faceTarget="1" />
								</node>
								<node name="skill" idx="10">
									<!-- 찌르기-->
									<node name="skill" faceTarget="0" idx="11">
										<!-- 1타 찌르고 빠지기 사용-->
										<node name="standby" limit="2300" faceTarget="1" />
									</node>
								</node>
							</node>
						</condition>
						<condition name="skillRange" skillIdx="1">
							<node name="select" prob="50,50">
								<!-- 레벨5: 10인 최종 던전 1셋트 전투판 크기에 맞는 정밀한 거리체크 용도, 이거 이슈라용 데이터 인데 그냥 공용으로 사용 -->
								<node name="trace" limit="2100" skillIdx="12">
									<!-- 추적 스킬 거리로 -->
									<node name="skill" idx="12">
										<!-- 추적 찌르기 스킬 사용-->
										<node name="skill" faceTarget="1" idx="9">
											<!-- 평타공격 2타 사용-->
											<node name="standby" limit="2300" faceTarget="1" />
										</node>
									</node>
								</node>
								<node name="skill" idx="21">
									<!-- 채찍공격 -->
									<node name="skill" faceTarget="0" idx="25">
										<!--채찍 마무리 동작-->
										<node name="standby" limit="2200" faceTarget="1" />
									</node>
								</node>
							</node>
						</condition>
						<condition name="true">
							<node name="standby" limit="2800" faceTarget="1">
								<node name="target" type="near" from="10" to="2300" />
							</node>
						</condition>
					</node>
				</condition>
				<condition name="true">
					<!--49% 이하면 구석으로 도망가 있기, 파티원이 특정 하나의 보스에게 몰려서 몰빵 공격 하는 어뷰징 상황을 막기위한 설정임-->
					<node name="standby" limit="1000" facePos="-4275, -2625, 3310" animation="Stun_B" />
					<!--중요: 이때 플레이어가 몬스터를 절대 때리지 못하도록 해야 함 그래서 animation="Stun_B"  설정 중요  구석으로 도망가 있는 상태에서는 플레이어가 때리지 못하는  standby 상태가 되돌고 함 -->
					<!-- 바라보는 방향은 유페리아 전투판 정 중앙을 향하도록-->
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="SkillBreak_AttackPattern">
			<node name="select" prob="99999,0">
				<!--스킬 브레이크 패턴-->
				<node name="SetValue" cooltime="9999999" key="BreakPattern" value="0">
					<!--전투 상태가 되자마자 바로 변수 셋팅-->
				</node>
				<node name="conditions">
					<condition name="extraData" key="BreakPattern" value="0">
						<!-- BreakPattern 변수가 0일 때, -->
						<node name="conditions">
							<condition name="skillRange" skillIdx="4">
								<!--레벨2: 최종 10인 던전용 같은 전투판 거리체크 데이터, 수치 데이터 정밀 체크임-->
								<node name="buff" type="add" id="62100024" level="2" isKeepBattle="true">
									<!-- 레벨2가 10인 던전용: 특정 라텐타 스킬로만 공격 해야만 공격이 먹히도록 하기 위한 유페리아용 애디셔널 부여하기 -->
									<node name="skill" facePos="-4350, -2700, 3310" idx="15" />
									<!-- 근처의 적 튕겨내기 스킬 발동 -->
									<node name="skill" faceTarget="0" idx="16" />
									<!-- 전멸기 사용 전 기모으기 동작 스킬 -->
									<node name="SetValue" key="BreakPattern" value="1" />
									<!--  변수 1로 셋팅해여 다음 단계로 넘어가도록 하기 -->
									<node name="SetValue" key="SkillBreakRangeOn" value="0" />
									<!-- 이 변수도 초기화 하기: 스킬 브레이크 공격 시작하기 전에 같은 전투판에 12초 넘도록 없으면 원거리 기절 스킬 사용하도록 하기 위해 사용하는 변수-->
								</node>
							</condition>
							<condition name="true">
								<!--같은 전투판에 플레이어가 한명도 없으면 standby  12초 정도 있다가, 그래도 계속 전투판에 플레이어가 없으면 원거리 기절 스킬 사용하기-->
								<node name="conditions">
									<condition name="extraData" key="SkillBreakRangeOn" value="12" op="lessEqual">
										<node name="standby" limit="1000" faceTarget="1" animation="Attack_Idle_None">
											<!--스킬브레이크 때 standby 동작에서 플레이어가 때리지 못하도록 함  -->
											<node name="target" type="near" from="10" to="2300">
												<node name="SetValue" key="SkillBreakRangeOn" value="1" isModify="1" />
											</node>
										</node>
									</condition>
									<condition name="true">
										<node name="skill" isKeepBattle="true" idx="5">
											<!--같은 전투판에 단 한명의 플레이어도 없으면 초강력 스킬로 건너편 플레이어 무리 초강력 스턴 원거리 스킬로 공격함  -->
											<node name="standby" limit="2300" animation="Attack_Idle_None" faceTarget="1" />
											<!--스킬브레이크 때 standby 동작에서 플레이어가 때리지 못하도록 함  -->
											<node name="target" type="near" from="10" to="2300" />
											<node name="SetValue" key="SkillBreakRangeOn" value="5" />
											<!-- 적당히 5로 셋팅해서 7초 standby 지나면 원거리 기절 공격 하도록 하기-->
										</node>
									</condition>
								</node>
							</condition>
						</node>
					</condition>
					<condition name="true">
						<!--  BreakPattern 변수가  0이 아닌 경우 이 부분 실행, 즉 이 몬스터가 쉴드 애디셔널이 붙고 난 다음에 이 쉴드 애디셔널이 사라질 때까지 계속 이부분 반복 실행함 -->
						<node name="conditions">
							<condition name="extraData" key="brokenShieldFail" value="1">
								<!-- brokenShieldFail = 1  이라는 것은, 쉴드 애디셔널 파괴 실패했다는 뜻임  (1이면 true, 0이면 false임)  -->
								<!-- 몬스터의 쉴드 애디셔널 유지 시간이 다 되었는데, 쉴드 애디셔널 HP를 전부 깎는데 실패하면, 이 부분 실행하여 플레이어에게 극 광역스킬 난사함 -->
								<node name="skill" facePos="-4350, -2700, 3310" idx="17">
									<!-- 레벨4: 10인 최종던전에서만 사용하는 전멸기 스킬 플레이어 전멸-->
									<node name="SetValue" key="BreakPattern" value="0" />
									<!-- 다음에 다시 사용을 위해 변수 초기화 -->
									<node name="standby" limit="3000" faceTarget="1" animation="Attack_Idle_None" />
									<!--스킬브레이크 때 standby 동작에서 플레이어가 때리지 못하도록 함  -->
								</node>
							</condition>
							<condition name="extraData" key="remainShieldHP" value="1" op="greaterEqual">
								<!--쉴드 애디셔널의 HP가 1 이상인 경우:  remainShieldHP 는 쉴드 애디셔널의 HP 수치로 이 수치가 0이 되면 해당 애디셔널 제거되는데, 즉 이 쉴드 애디셔널이 남아있는지를 조건  체크 하는 것임  -->
								<node name="skill" faceTarget="0" idx="16" />
								<!--기력 모으기  -->
							</condition>
							<condition name="extraData" key="brokenShieldSuccess" value="1">
								<!-- brokenShieldSuccess = 1  이라는 것은, 쉴드 애디셔널 파괴 성공했다는 뜻임  (1이면 true, 0이면 false임)  -->
								<node name="buff" type="add" id="70002171">
									<!-- 스킬브레이크 정해진 시간 내에 잘 막았는지 트리거에서 체크하기 위한 버프 부여하기 , DungeonMissionCheckSkillBreakTime.xml 트리거에서 체크해 던전 미션 클리어 처리 하기- -->
									<node name="skill" faceTarget="0" isKeepBattle="true" idx="18">
										<!-- 기절 동작-->
										<node name="SetValue" key="BreakPattern" value="0" />
										<!-- 다음에 다시 사용을 위해 변수 초기화 -->
										<node name="SetValue" key="SkillBreak_StartOk" value="0" />
										<!-- 중요: 유페리아 렌듀비앙이 스킬 블레이크 스킬 사용하게 하는 결정적인 이 변수 꼭 0 초기화 하기 그래야 스킬브레이크 막기 성공하면 이후 평상시 공격행동 상태로 넘어가게 됨  -->
										<node name="SetValue" key="SkillBreakEnd" value="1" />
										<!-- 이 변수가 1로 만들어 플레이어가 스킬 브레이크 공격을 막기 성공했으니, 평상시 공격 상태가 되도록 하기 -->
										<node name="standby" limit="700" faceTarget="0" />
										<!-- 기절 동작 후 standby 0.7초 정도-->
										<node name="SetValueRangeTarget" key="SkillBreakEnd_PartnerCheck" value="1" radius="9500" height="9000" isModify="1" />
										<!-- 이슈라 한테 이 변수 +1 신호를 보내서 자신의 스킬브레이크가 끝났음을 알림, 이 신호는 타이밍상 스킬브레이크 끝나고 천천히 보내는 것이 좋음, 스킬브레이크 끝나자마자 이슈라가 폭발저주패턴 바로 사용하면 쾌적하지 못하기 때문에 천천히 신호 보내자-->
									</node>
								</node>
							</condition>
							<condition name="true">
								<!-- 이론적으로 여기 부분 올일 없음 -->
								<node name="standby" limit="2000" faceTarget="0">
									<node name="SetValue" key="BreakPattern" value="0" />
									<!-- 다음에 다시 사용을 위해 변수 초기화 -->
								</node>
							</condition>
						</node>
					</condition>
				</node>
			</node>
		</aiPreset>
		<aiPreset name="3Phase_AttackPattern">
			<!--3페이즈 전투 패턴-->
			<node name="conditions">
				<condition name="extraData" key="TeleportActionOk" value="6" op="greaterEqual">
					<node name="conditions">
						<condition name="skillRange" skillIdx="7">
							<!-- 2셋트 메인 전투판에 들어서야 순간이동 행위 하도록 거리 조건 체크를 설정함, 근처 물큐브에 빠져 있어도 거리체크 조건에 들어감-->
							<node name="skill" faceTarget="0" idx="8">
								<!--  레벨33: 순간이동, 컬리전 박스 올리지 않아서 때릴 수 있는 버전임-->
								<node name="SetValue" key="TeleportActionOk" value="0">
									<!--  이 변수 0 초기화 안하면 무한 텔레포트 하게 되어서 꼭 0 셋팅해야 함-->
									<node name="conditions">
										<condition name="extraData" key="TeleportPosCheck" value="1">
											<node name="select" prob="33,33,33">
												<!-- 중요: 순간이동 동착하고  standby 후에 꼭 제일 가까운 대상 타겟팅 하도록 함-->
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<!-- 3페이즈에서는 순간이동 도착후 2.8초 standby 딜레이 주기-->
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="2">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="4">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="5">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="7">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="8">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="10">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="11">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="true">
											<node name="select" prob="33,33,33">
												<!-- TeleportPosCheck = 0 인 경우로 최초 텔레포트 할때 딱 한번 여기 실행할 것임-->
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
						</condition>
						<condition name="true">
							<node name="standby" limit="1100" faceTarget="1" />
							<!-- 아무것도 안함-->
						</condition>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="9">
					<!-- 평타공격 2타 거리에 있으면 아래 스킬들을 사용, 레벨2이 거리체크 240-->
					<node name="SetValue" key="TeleportActionOk" value="1" isModify="1">
						<!-- 공격 행동 할 때마다 이 변수 1씩 더해서 일정 수 이상 되면 텔레포트 하도록 함-->
						<node name="say" message="$YuperiaRbladerDark_TwoStage_CloseCheck$" durationTick="4000" delayTick="0">
							<node name="select" prob="99,50,50">
								<!--가까이 붙은 플레이어에게 말하는 메시지-->
								<node name="skill" cooltime="15000" isKeepBattle="true" idx="21">
									<!--채찍공격-->
									<node name="skill" faceTarget="0" idx="25" />
									<!--채찍 마무리 동작-->
									<node name="target" type="near" from="10" to="2800" />
									<!-- 가까이 붙으면서 공략하는 요소가 있어서 공격 행동 후 항상 자주 제일 가까운 대상 우선 타겟팅 하는 기능을 부여함-->
									<node name="standby" limit="3100" faceTarget="1" />
								</node>
								<node name="skill" idx="9">
									<!-- 평타공격 2타-->
									<node name="standby" limit="3100" faceTarget="1">
										<node name="target" type="near" from="10" to="2300" />
									</node>
								</node>
								<node name="skill" isKeepBattle="true" idx="10">
									<!-- 찌르기 -->
									<node name="skill" faceTarget="0" idx="11" />
									<!-- 1타 찌르고 빠지기 사용-->
									<node name="target" type="near" from="10" to="2800" />
									<node name="standby" limit="3100" faceTarget="1" />
									<!-- 0.7초간 대기-->
								</node>
							</node>
						</node>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="6">
					<!-- 레벨31: 거리 450 이내,  10인 최종 던전 2셋트 전투판에 맞는 정밀한 거리체크 용도, 이거 유페리아 퇴장연출 스킬 데이터임 -->
					<node name="SetValue" key="TeleportActionOk" value="1" isModify="1">
						<!-- 공격 행동 할 때마다 이 변수 1씩 더해서 일정 수 이상 되면 텔레포트 하도록 함-->
						<node name="say" message="$YuperiaRbladerDark_TwoStage_CloseCheck$" durationTick="4000" delayTick="0">
							<node name="select" prob="30,30,30,9,1">
								<!--가까이 붙은 플레이어에게 말하는 메시지-->
								<node name="trace" limit="2000" cooltime="12000" skillIdx="12">
									<!-- 추적 스킬 거리로 다가감 2초간 지속-->
									<node name="skill" isKeepBattle="true" idx="12">
										<!-- 추적스킬 사용-->
										<node name="skill" faceTarget="1" idx="9" />
										<!-- 추적스킬 사용하여 다가가 평타공격 2타 사용-->
										<node name="target" type="near" from="10" to="2800" />
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="trace" limit="2000" cooltime="12000" skillIdx="10">
									<!-- 추적 스킬 거리로 다가감 2초간 지속-->
									<node name="skill" isKeepBattle="true" idx="10">
										<!-- 찌르기 -->
										<node name="skill" faceTarget="1" idx="11" />
										<!-- 1타 찌르고 빠지기 사용-->
										<node name="target" type="near" from="10" to="2800" />
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="skill" cooltime="12000" isKeepBattle="true" idx="21">
									<!-- 채찍공격 -->
									<node name="skill" faceTarget="0" idx="25" />
									<!--채찍 마무리 동작-->
									<node name="target" type="near" from="10" to="2800" />
									<node name="standby" limit="3100" faceTarget="1" />
								</node>
								<node name="skill" cooltime="62000" idx="13">
									<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임, 레벨2: 회복 50%까지 하는것 -->
									<node name="target" type="near" from="10" to="2500">
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="standby" limit="1200" faceTarget="1" />
							</node>
						</node>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="13">
					<!-- 거리 2500  같은 높이 위치, 플레이어가 2셋트 같은 전투판인지 판단하는 정밀 거리체크 용도 -->
					<node name="say" message="$YuperiaRbladerDark_TwoStage_LongCheck$" durationTick="6000" delayTick="0">
						<node name="select" prob="9999,60,24,15,1">
							<!--(1)처음에는 무조건 이거 사용 -->
							<node name="standby" limit="900" faceTarget="1" cooltime="7300" isKeepBattle="true">
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="13" />
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임, 레벨2: 회복 50%까지 하는것 -->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="target" type="near" from="10" to="2800" />
								<node name="SetValue" key="TeleportActionOk" value="3" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  3이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<!--(2)이후 플레이어가 가까이 붙지 않으면 아래 3개 스킬 랜덤 선택함 -->
							<node name="standby" limit="500" faceTarget="1" cooltime="7300" isKeepBattle="true">
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="13" />
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임, 레벨2: 회복 50%까지 하는것 -->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="target" type="near" from="10" to="2800" />
								<node name="SetValue" key="TeleportActionOk" value="3" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  3이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<node name="standby" limit="500" faceTarget="1" cooltime="7300" isKeepBattle="true">
								<!--, 2초 기절시킴-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="24" />
								<!--채찍 3개 한번에 공격, 2초 기절시킴-->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="SetValue" key="TeleportActionOk" value="3" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  3이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<node name="standby" limit="500" faceTarget="1" cooltime="27300" isKeepBattle="true">
								<!--채찍 가운데 양끝 한번씩 총 3번 공격-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="21" />
								<!--채찍 가운데 지점 공격-->
								<node name="skill" faceTarget="0" idx="22" />
								<!--채찍 왼쪽 지점 공격-->
								<node name="skill" faceTarget="0" idx="23" />
								<!--채찍 오른쪽 지점 공격-->
								<node name="skill" faceTarget="0" idx="25" />
								<!--채찍 마무리 동작-->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="SetValue" key="TeleportActionOk" value="3" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  3이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<node name="standby" limit="1100" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="true">
					<node name="standby" limit="1200" faceTarget="1" />
				</condition>
			</node>
		</aiPreset>
		<aiPreset name="FinalPhase_AttackPattern">
			<!--최종 페이즈 전투 패턴-->
			<node name="conditions">
				<condition name="extraData" key="TeleportActionOk" value="4" op="greaterEqual">
					<node name="conditions">
						<condition name="skillRange" skillIdx="7">
							<!-- 2셋트 메인 전투판에 들어서야 순간이동 행위 하도록 거리 조건 체크를 설정함, 근처 물큐브에 빠져 있어도 거리체크 조건에 들어감-->
							<node name="skill" faceTarget="0" idx="8">
								<!--  레벨33: 순간이동, 컬리전 박스 올리지 않아서 때릴 수 있는 버전임-->
								<node name="SetValue" key="TeleportActionOk" value="0">
									<!--  이 변수 0 초기화 안하면 무한 텔레포트 하게 되어서 꼭 0 셋팅해야 함-->
									<node name="conditions">
										<condition name="extraData" key="TeleportPosCheck" value="1">
											<node name="select" prob="33,33,33">
												<!-- 중요: 순간이동 동착하고  standby 후에 꼭 제일 가까운 대상 타겟팅 하도록 함-->
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<!-- 최종 페이즈에서는 순간이동 도착후 2초 standby 딜레이 주기-->
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="2">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="4">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3000, 4350, 5860">
													<!-- 8시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="8" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="5">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="7">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4350, 4950, 5860">
													<!-- 11시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="11" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="8">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="10">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4950, 3600, 5860">
													<!-- 2시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="2" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="extraData" key="TeleportPosCheck" value="11">
											<node name="select" prob="33,33,33">
												<node name="teleport" pos="4350, 3000, 5860">
													<!-- 4시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="4" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3000, 3600, 5860">
													<!-- 7시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="7" />
														</node>
													</node>
												</node>
											</node>
										</condition>
										<condition name="true">
											<node name="select" prob="33,33,33">
												<!-- TeleportPosCheck = 0 인 경우로 최초 텔레포트 할때 딱 한번 여기 실행할 것임-->
												<node name="teleport" pos="4950, 4350, 5860">
													<!-- 1시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="1" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 3000, 5860">
													<!-- 5시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="5" />
														</node>
													</node>
												</node>
												<node name="teleport" pos="3600, 4950, 5860">
													<!-- 10시-->
													<node name="standby" limit="3940" faceTarget="1">
														<node name="target" type="near" from="10" to="2500">
															<node name="SetValue" key="TeleportPosCheck" value="10" />
														</node>
													</node>
												</node>
											</node>
										</condition>
									</node>
								</node>
							</node>
						</condition>
						<condition name="true">
							<node name="standby" limit="1100" faceTarget="1" />
							<!-- 아무것도 안함-->
						</condition>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="9">
					<!-- 평타공격 2타 거리에 있으면 아래 스킬들을 사용, 레벨2이 거리체크 240-->
					<node name="SetValue" key="TeleportActionOk" value="1" isModify="1">
						<!-- 공격 행동 할 때마다 이 변수 1씩 더해서 일정 수 이상 되면 텔레포트 하도록 함-->
						<node name="say" message="$YuperiaRbladerDark_TwoStage_CloseCheck$" durationTick="4000" delayTick="0">
							<node name="select" prob="599,99,50,50">
								<!--가까이 붙은 플레이어에게 말하는 메시지-->
								<!--순간이동 후 세갈래  채찍 스턴 공격-->
								<node name="standby" limit="200" faceTarget="1" cooltime="23000">
									<node name="skill" faceTarget="0" idx="7">
										<node name="select" prob="25,25,25,25">
											<node name="teleport" pos="4600, 3963, 5860" cooltime="62000" isKeepBattle="true">
												<!-- 2시-->
												<node name="target" type="near" center="3975, 3975, 5860" />
												<!--2셋트 맵 정중앙을 기준으로 타겟팅 잡음 -->
												<node name="skill" faceTarget="1" idx="24" />
												<!--채찍 3개 한번에 공격, 2초 기절시킴-->
												<node name="target" type="near" from="10" to="2800" />
												<node name="standby" limit="3100" faceTarget="1" />
											</node>
											<node name="teleport" pos="3980, 3330, 5860" cooltime="62000" isKeepBattle="true">
												<!-- 4시-->
												<node name="target" type="near" center="3975, 3975, 5860" />
												<!--2셋트 맵 정중앙을 기준으로 타겟팅 잡음 -->
												<node name="skill" faceTarget="1" idx="24" />
												<!--채찍 3개 한번에 공격, 2초 기절시킴-->
												<node name="target" type="near" from="10" to="2800" />
												<node name="standby" limit="3100" faceTarget="1" />
											</node>
											<node name="teleport" pos="3300, 3984, 5860" cooltime="62000" isKeepBattle="true">
												<!-- 8시-->
												<node name="target" type="near" center="3975, 3975, 5860" />
												<!--2셋트 맵 정중앙을 기준으로 타겟팅 잡음 -->
												<node name="skill" faceTarget="1" idx="24" />
												<!--채찍 3개 한번에 공격, 2초 기절시킴-->
												<node name="target" type="near" from="10" to="2800" />
												<node name="standby" limit="3100" faceTarget="1" />
											</node>
											<node name="teleport" pos="3975, 4630, 5860" cooltime="62000" isKeepBattle="true">
												<!-- 10시-->
												<node name="target" type="near" center="3975, 3975, 5860" />
												<!--2셋트 맵 정중앙을 기준으로 타겟팅 잡음 -->
												<node name="skill" faceTarget="1" idx="24" />
												<!--채찍 3개 한번에 공격, 2초 기절시킴-->
												<node name="target" type="near" from="10" to="2800" />
												<node name="standby" limit="3100" faceTarget="1" />
											</node>
										</node>
									</node>
								</node>
								<node name="skill" cooltime="15000" isKeepBattle="true" idx="21">
									<!--채찍공격-->
									<node name="skill" faceTarget="0" idx="25" />
									<!--채찍 마무리 동작-->
									<node name="target" type="near" from="10" to="2800" />
									<!-- 가까이 붙으면서 공략하는 요소가 있어서 공격 행동 후 항상 자주 제일 가까운 대상 우선 타겟팅 하는 기능을 부여함-->
									<node name="standby" limit="3100" faceTarget="1" />
								</node>
								<node name="skill" idx="9">
									<!-- 평타공격 2타-->
									<node name="standby" limit="3100" faceTarget="1">
										<node name="target" type="near" from="10" to="2300" />
									</node>
								</node>
								<node name="skill" isKeepBattle="true" idx="10">
									<!-- 찌르기 -->
									<node name="skill" faceTarget="0" idx="11" />
									<!-- 1타 찌르고 빠지기 사용-->
									<node name="target" type="near" from="10" to="2800" />
									<node name="standby" limit="3100" faceTarget="1" />
									<!-- 0.7초간 대기-->
								</node>
							</node>
						</node>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="6">
					<!-- 레벨31: 거리 450 이내,  10인 최종 던전 1셋트 전투판에 맞는 정밀한 거리체크 용도, 이거 유페리아 퇴장연출 스킬 데이터임 -->
					<node name="SetValue" key="TeleportActionOk" value="1" isModify="1">
						<!-- 공격 행동 할 때마다 이 변수 1씩 더해서 일정 수 이상 되면 텔레포트 하도록 함-->
						<node name="say" message="$YuperiaRbladerDark_TwoStage_CloseCheck$" durationTick="4000" delayTick="0">
							<node name="select" prob="30,30,30,9,1">
								<!--가까이 붙은 플레이어에게 말하는 메시지-->
								<node name="trace" limit="2000" cooltime="12000" skillIdx="12">
									<!-- 추적 스킬 거리로 다가감 2초간 지속-->
									<node name="skill" isKeepBattle="true" idx="12">
										<!-- 추적스킬 사용-->
										<node name="skill" faceTarget="1" idx="9" />
										<!-- 추적스킬 사용하여 다가가 평타공격 2타 사용-->
										<node name="target" type="near" from="10" to="2800" />
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="trace" limit="2000" cooltime="12000" skillIdx="10">
									<!-- 추적 스킬 거리로 다가감 2초간 지속-->
									<node name="skill" isKeepBattle="true" idx="10">
										<!-- 찌르기 -->
										<node name="skill" faceTarget="1" idx="9" />
										<!--  찌르고 다음에 2연타 휘두르기-->
										<node name="target" type="near" from="10" to="2800" />
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="standby" limit="200" faceTarget="1" cooltime="12000" isKeepBattle="true">
									<!--채찍 가운데 양끝 한번씩 총 3번 공격-->
									<node name="target" type="near" center="3975, 3975, 5860" />
									<!--2셋트 맵 정중앙을 기준으로 타겟팅 잡음 -->
									<node name="skill" faceTarget="1" idx="21" />
									<!--채찍 가운데 지점 공격-->
									<node name="skill" faceTarget="0" idx="22" />
									<!--채찍 왼쪽 지점 공격-->
									<node name="skill" faceTarget="0" idx="23" />
									<!--채찍 오른쪽 지점 공격-->
									<node name="skill" faceTarget="0" idx="25" />
									<!--채찍 마무리 동작-->
									<node name="target" type="near" from="10" to="2800" />
									<node name="standby" limit="3100" faceTarget="1" />
								</node>
								<node name="skill" cooltime="62000" idx="14">
									<!--그린 라펜타 웨이브, 거대 투사체 , 레벨3가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임, 레벨3: 회복 20%까지 하는것 -->
									<node name="target" type="near" from="10" to="2500">
										<node name="standby" limit="3100" faceTarget="1" />
									</node>
								</node>
								<node name="standby" limit="1200" faceTarget="1" />
							</node>
						</node>
					</node>
				</condition>
				<condition name="skillRange" skillIdx="14">
					<!-- 거리 2500  같은 높이 위치, 플레이어가 2셋트 같은 전투판인지 판단하는 정밀 거리체크 용도 -->
					<node name="say" message="$YuperiaRbladerDark_TwoStage_LongCheck$" durationTick="6000" delayTick="0">
						<node name="select" prob="70,29,1">
							<!-- 아래 3개 스킬 랜덤 선택함 -->
							<node name="standby" limit="500" faceTarget="1" isKeepBattle="true">
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨2가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="14" />
								<!--그린 라펜타 웨이브, 거대 투사체 , 레벨3가 10인 최종 던전용, 공속 느리고 발사체 속도 느린것임, 레벨3: 회복 20%까지 하는것 -->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="target" type="near" from="10" to="2800" />
								<node name="SetValue" key="TeleportActionOk" value="4" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  4이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<node name="standby" limit="500" faceTarget="1" isKeepBattle="true">
								<!--채찍 3개 한번에 공격, 2초 기절시킴-->
								<node name="target" type="near" from="10" to="2800" />
								<!--제일 가까운 대상 타겟팅 잡기, 이때 맵 중앙 타겟팅 했더니 근거리가 넘 불리해서 이때 유페리아 한테 가까이 붙으면 붙은 대상에게 타겟팅 가도록 설정함 -->
								<node name="skill" faceTarget="1" idx="24" />
								<!--채찍 3개 한번에 공격, 2초 기절시킴-->
								<node name="standby" limit="3100" faceTarget="1" />
								<node name="SetValue" key="TeleportActionOk" value="4" isModify="1" />
								<!--플레이어가 유페리아에게 가까이 다가가서 견제하지 않으면 더 자주 텔레포트 하도록 하기 위해 TeleportActionOk  4이상 더함, 한번 공격하고 바로 텔레포트 하도록  -->
							</node>
							<node name="standby" limit="1100" faceTarget="1" />
						</node>
					</node>
				</condition>
				<condition name="true">
					<node name="standby" limit="1200" faceTarget="1" />
				</condition>
			</node>
		</aiPreset>
	</aiPresets>
</npcAi>